"use strict";function UserAuth(a,b){var c=this;c.userData={},a.defaults.headers.common.Authorization="Basic "+Config.apiAuthorization,this.doLogin=function(d,e,f,g){localStorage.setItem("user",null),localStorage.setItem("token",null),delete a.defaults.headers.common.token,a({method:"GET",url:Config.api+"login",headers:{username:d,password:e}}).then(function(d){d.data.data.hasOwnProperty("token")&&(localStorage.setItem("token",d.data.data.token),a.defaults.headers.common.token=d.data.data.token),d.data.data.hasOwnProperty("user")&&(localStorage.setItem("user",d.data.data.user),c.userData=d.data.data.user),b.refreshMenu(),"undefined"!=typeof f&&f(d)},function(a){console.log(a),"undefined"!=typeof g&&g(a)})},this.logout=function(b,d){localStorage.setItem("user",null),localStorage.setItem("token",null),delete a.defaults.headers.common.token,c.userData={},a({method:"POST",url:Config.api+"logout"}).then(function(d){c.userData={},delete a.defaults.headers.common.token,localStorage.setItem("user",null),localStorage.setItem("token",null),"undefined"!=typeof b&&b(d)},function(a){"undefined"!=typeof d&&d(a)})},this.isLoggedIn=function(c,d){return void 0==this.getUserData().role_name?d():void a({method:"GET",url:Config.api+"IsLoggedIn"}).then(function(a){b.showHeader=!0,b.showFooter=!0,b.refreshMenu(),"undefined"!=typeof c&&c(a)},function(a){"undefined"!=typeof d&&d(a)})},this.getUserData=function(){return this.userData},this.loggedUserIsSupervisor=function(){return this.userData.role_name==Config.roleNameSupervisor},this.loggedUserIsPromoter=function(){return this.userData.role_name==Config.roleNamePromoter},this.loggedUserIsDataEntry=function(){return this.userData.role_name==Config.roleNameDataEntry}}function isNumber(a,b){var c=a.which?a.which:event.keyCode;return 46>c||c>57?!1:!0}angular.module("sancorsaludApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ui.bootstrap","ngTouch"]).config(["$routeProvider","$locationProvider","UserAuthProvider","$httpProvider",function(a,b,c,d){a.when("/",{templateUrl:"views/login.html",controller:"LoginController",controllerAs:"login",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.reject(),d.url(Config.publicPages.assignedToPromoter)},function(a){f.resolve()})}]}}).when(Config.publicPages.assignedToPromoter,{templateUrl:"views/assignedToPromoter.html",controller:"AssignedToPromoterController",controllerAs:"AssignedToPromoterController",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).when(Config.publicPages.promoterList,{templateUrl:"views/promoterlist.html",controller:"PromoterListController",controllerAs:"PromoterListController",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).when(Config.publicPages.toBeAssigned,{templateUrl:"views/toBeAssigned.html",controller:"TobeassignedcontrollerCtrl",controllerAs:"TobeassignedcontrollerCtrl",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).when(Config.publicPages.agenda,{templateUrl:"views/agenda.html",controller:"AgendaCtrl",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).when(Config.publicPages.notifications,{templateUrl:"views/notification.html",controller:"NotificationCtrl",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).when(Config.publicPages.valuationPlan,{templateUrl:"views/valuation.html",controller:"ValuationCtrl",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).when(Config.publicPages.transfer+"/:tipo",{templateUrl:"views/valuation.html",controller:"ValuationCtrl",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).when(Config.publicPages.onlyAdditional+"/:tipo",{templateUrl:"views/valuation.html",controller:"ValuationCtrl",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).when(Config.publicPages.newAssociatedPotential,{templateUrl:"views/newAssociatedPotential.html",controller:"NewAssociatedPotentialController",resolve:{loggedin:["UserAuth","$q","$timeout","$location","$rootScope",function(a,b,c,d,e){var f=b.defer();return a.isLoggedIn(function(a){f.resolve()},function(a){f.reject(),d.url("/")})}]}}).otherwise({redirectTo:"/"}),b.hashPrefix(""),null!=localStorage.getItem("token")&&(d.defaults.headers.common.token=localStorage.getItem("token")),d.defaults.withCredentials=!1,delete d.defaults.headers.common["X-Requested-With"],d.defaults.headers.post.Accept="application/json, text/javascript",d.defaults.headers.post["Content-Type"]="application/json; charset=utf-8",d.defaults.headers.common.Accept="application/json, text/javascript",d.defaults.headers.common["Content-Type"]="application/json; charset=utf-8",d.defaults.useXDomain=!0}]),angular.module("sancorsaludApp").controller("AssignedToPromoterController",["$rootScope","$scope","$location","associatedPotentialService","UserAuth","utilsService",function(a,b,c,d,e,f){a.setActiveMenuPage("assignedToPromoter","Asignados"),a.showFilterMenu(),a.showSearchMenu(),b.modeEditActive=!1,b.userMessage="",b.associatedPotentialDialog=$("#asignado1"),b.valuedDialog=$("#cotizar-modal"),b.closeDialog=$("#close-dialog"),b.motives=[],d.getMotives(function(a){b.motives=a},function(a){console.log(a)}),b.valuation={plan:"",value:""},b.today=(new Date).toISOString().substring(0,10),b.getPublicPages=function(){return Config.publicPages},b.toAdicionales=function(){d.setOrigenAdicionales("asignados"),c.url(Config.publicPages.onlyAdditional+"/solo-adicionales")},b.valuationClick=function(){$("#cotizar").modal("hide"),d.setSelectedPotential(b.selectedAssociatedPotencial),c.url(Config.publicPages.valuationPlan)},b.filterSearchedData=function(a){if(""==b.filterText)return!0;var c="";return"none"!=$(".filtro .cotizados")[0].style.display&&(c="C"),"none"!=$(".filtro .entrevistados")[0].style.display&&(c="A"),"none"!=$(".filtro .sin-agendar")[0].style.display&&(c="S"),(a.nombre.toLowerCase().indexOf(b.filterText.toLowerCase())>=0||a.apellido.toLowerCase().indexOf(b.filterText.toLowerCase())>=0)&&(""==c||a.filtro==c)},b.filterText="";var g=function(){b.filterText=a.getSearchText()};f.registerObserverCallback(g,Config.events.onHeaderSearchTextChange),b.loadAssociatedPotential=function(){b.associatedPotentialList=[],b.loading=!0,(e.loggedUserIsPromoter()||e.loggedUserIsDataEntry())&&d.getAssociatedPotentialListForPromoters(function(a){b.associatedPotentialList=a,b.welcomeMessage=b.refreshWelcomeMessage(a),setTimeout(function(){$(".item").hide(),$(".modal.asignados .item").show(),$(".filtro > div").hide(),$(".filtro .sin-agendar").show(),$('.item[data-filter="S"]').show()},300),b.loading=!1},function(a){b.loading=!1,console.log(a)})},f.registerObserverCallback(function(a){a==Config.publicPages.assignedToPromoter&&b.loadAssociatedPotential()},Config.events.onHeaderNavigatePageChange),b.loadAssociatedPotential(),b.refreshWelcomeMessage=function(a){for(var b=0,c=0;c<a.length;c++)a[c].fecha_asig_prom==f.getDateStringYYYYMMDD()&&b++;return b>0?"Hola "+e.getUserData().name+" "+e.getUserData().lastname+", hoy tienes "+b+" nuevo"+(b>1?"s":"")+" asignado"+(b>1?"s":"")+" a contactar.":"Hola "+e.getUserData().name+" "+e.getUserData().lastname+", hoy no tienes nuevos asignados"},b.editAssociatedPotential=function(){setTimeout(function(){$("#fecha-nacimiento").val(f.getDateDescription(b.selectedAssociatedPotencial.fecha_nac))},100),b.modeEditActive=!0},b.updateAssociatedPotential=function(){if(b.userMessage="",f.isNullOrEmpty($("#fecha-nacimiento").val()))return void(b.userMessage="Debe completar la fecha de nacimiento");if(f.isNullOrEmpty(b.selectedAssociatedPotencial.perfil.celular)&&f.isNullOrEmpty(b.selectedAssociatedPotencial.perfil.tel))return void(b.userMessage="Debe completar o un teléfono o un celular al menos");var a={};a.potencial_id=b.selectedAssociatedPotencial.potencial_id,a.nombre=b.selectedAssociatedPotencial.nombre,a.apellido=b.selectedAssociatedPotencial.apellido,a.filtro=b.selectedAssociatedPotencial.filtro,a.fecha_nac=f.buildLocalDateTime($("#fecha-nacimiento").val(),""),f.isNotNull(b.selectedAssociatedPotencial.perfil.cp)&&(a.cp=b.selectedAssociatedPotencial.perfil.cp),f.isNotNull(b.selectedAssociatedPotencial.perfil.tel)&&(a.tel=b.selectedAssociatedPotencial.perfil.tel),f.isNotNull(b.selectedAssociatedPotencial.perfil.celular)&&(a.cel=b.selectedAssociatedPotencial.perfil.celular),f.isNotNull(b.selectedAssociatedPotencial.mail)&&(a.mail=b.selectedAssociatedPotencial.mail),f.isNotNull(b.selectedAssociatedPotencial.perfil.calle)&&(a.calle=b.selectedAssociatedPotencial.perfil.calle),f.isNotNull(b.selectedAssociatedPotencial.perfil.puerta)&&(a.puerta=b.selectedAssociatedPotencial.perfil.puerta),f.isNotNull(b.selectedAssociatedPotencial.perfil.piso)&&(a.piso=b.selectedAssociatedPotencial.perfil.piso),f.isNotNull(b.selectedAssociatedPotencial.perfil.departamento)&&(a.departamento=b.selectedAssociatedPotencial.perfil.departamento),d.updateAssociatedPotential(a,function(a){b.modeEditActive=!1,b.associatedPotentialDialog.modal("toggle"),b.loadAssociatedPotential()},function(a){b.userMessage="No se ha podido modificar el potencial asociado"})},b.cancelEditAssociatedPotential=function(){setTimeout(function(){$("#fecha-entrevista").val(f.getDateDescription(b.selectedAssociatedPotencial.fecha_agenda))},100),setTimeout(function(){$("#hora-entrevista").val(f.getTimeDescription(b.selectedAssociatedPotencial.fecha_agenda))},100),b.userMessage="",b.modeEditActive=!1},b.getEdadDescription=function(){return f.isNotNullScopeObjectParameter(b,"selectedAssociatedPotencial.edad")&&0!=b.selectedAssociatedPotencial.edad?b.selectedAssociatedPotencial.edad+" años ("+b.getDateDescription(b.selectedAssociatedPotencial.fecha_nac)+")":""},b.selectedAssociatedPotencial=null,b.setSelectedAssociatedPotencial=function(a){"C"==a.filtro?b.estaCotizado=!0:b.estaCotizado=!1,b.modeEditActive=!1;var c=angular.copy(a);b.selectedAssociatedPotencial=c,$("#fecha-entrevista").val(""),$("#hora-entrevista").val(""),$("#fecha-nacimiento").val(""),f.isNotNull(a.fecha_agenda)&&($("#fecha-entrevista").val(f.getDateDescription(a.fecha_agenda)),$("#hora-entrevista").val(f.getTimeDescription(a.fecha_agenda))),f.isNotNull(a.fecha_nac)&&(b.selectedAssociatedPotencial.fecha_nac=f.getDateDescription(a.fecha_nac),setTimeout(function(){$("#fecha-nacimiento").val(f.getDateDescription(a.fecha_nac))},100)),d.getAssociatedPotentialPerfil(a.potencial_id,function(a){c.perfil=a},function(a){b.selectedAssociatedPotencial=c})},b.getDetailsMessage=function(a){if("A"==a.filtro)return new Date(a.fecha_agenda).getMonth()==(new Date).getMonth()?f.formatDateDayTextPlusTime(new Date(a.fecha_agenda)):f.formatDateCompleteTextPlusTime(new Date(a.fecha_agenda));if("S"==a.filtro){var b=f.getDaysBetweenTwoDates(f.getStringDate(new Date),a.fecha_asig_prom);return b>=Config.maxDaysPotentialCanBeAssigned?"VENCE HOY":"NUEVO - "+(Config.maxDaysPotentialCanBeAssigned-b)+" días para contactar"}return""},b.getDateDescription=function(a){return f.getDateDescription(a)},b.getTimeDescription=function(a){return f.getTimeDescription(a)},b.showIconWarningExpiredDate=function(a){var b=f.getDaysBetweenTwoDates(f.getStringDate(new Date),a.fecha_asig_prom);return b>=Config.maxDaysPotentialCanBeAssigned},b.showIconAgenda=function(a){return f.isNotNull(a)?"A"==a.filtro:!1},b.showIconNotAgenda=function(a){return f.isNotNull(a)?"S"==a.filtro:!1},b.showIconValued=function(a){return f.isNotNull(a)?"C"==a.filtro:!1},b.closeAssociatedPotential=function(){parseInt(b.selectedAssociatedPotencial.motive)>0&&d.closeAssociatedPotential(b.selectedAssociatedPotencial.potencial_id,parseInt(b.selectedAssociatedPotencial.motive),function(a){b.loadAssociatedPotential(),b.closeDialog.modal("toggle"),b.associatedPotentialDialog.modal("toggle")},function(a){b.userMessage="No se ha podido cerrar el potencial asociado",console.log(a)})},b.saveAssociatedPotentialAgenda=function(){return b.selectedAssociatedPotencial.fecha_agenda=f.buildLocalDateTime(new Date($("#fecha-entrevista")[0].valueAsDate).toISOString(),$("#hora-entrevista").val()),b.userMessage="",new Date(b.selectedAssociatedPotencial.fecha_agenda).getTime()<(new Date).getTime()?void(b.userMessage="La fecha de entrevista debe ser posterior a la actual"):void d.saveAssociatedPotentialAgenda(b.selectedAssociatedPotencial,function(a){b.loadAssociatedPotential(),b.associatedPotentialDialog.modal("toggle")},function(a){b.userMessage="No se ha podido guardar el potencial asociado",console.log(a)})},b.valuedAssociatedPotential=function(){d.valuedAssociatedPotential(b.selectedAssociatedPotencial,b.valuation,function(a){$("#asignado2").modal("hide"),b.loadAssociatedPotential()},function(a){b.valuedDialog.modal("toggle"),b.associatedPotentialDialog.modal("toggle"),b.userMessage="No se ha podido cotizar el potencial asociado",console.log(a)})},b.getState=function(a){return a.filtro},b.cotizarManual=function(){$("#cotizar").modal("hide"),$("#asignado2").modal("show")}}]),angular.module("sancorsaludApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("sancorsaludApp").directive("header",["UserAuth","$location","$rootScope","$interval","utilsService","associatedPotentialService",function(a,b,c,d,e,f){return{templateUrl:"views/templates/headerTemplate.html",restrict:"E",scope:!0,link:function(g,h,i){g.searchText="",c.getSearchText=function(){return g.searchText},g.reload=function(a){e.notifyObservers(Config.events.onHeaderNavigatePageChange,a)},g.changeSearchText=function(a){g.searchText=a,e.notifyObservers(Config.events.onHeaderSearchTextChange,g.searchText)},g.getPublicPages=function(){return Config.publicPages},g.notifications={assignedCount:"",pendingCount:""},g.updateNotifications=function(){$(".badge-notification").show(),a.loggedUserIsSupervisor()&&f.getAssignedAndPendingCountForSupervisor(function(a){g.notifications.assignedCount=a.cantidad_pendientes,g.notifications.pendingCount=a.cantidad},function(){$(".badge-notification").hide()}),a.loggedUserIsPromoter()&&f.getAssignedAndPendingCountForPromoter(function(a){g.notifications.assignedCount=a.cantidadAsignados,g.notifications.pendingCount=a.cantidadPendientes},function(){$(".badge-notification").hide()})},d(g.updateNotifications,Config.refreshNotificationsMilliseconds),c.refreshMenu=function(){g.username=a.getUserData().name+" "+a.getUserData().lastname,g.name=a.getUserData().name,g.roleName=a.getUserData().role_name,g.showSupervisorMenu=a.loggedUserIsSupervisor(),g.showPromoterMenu=a.loggedUserIsPromoter(),g.showDataEntryMenu=a.loggedUserIsDataEntry(),g.updateNotifications()},g.isFilterMenuVisible=!1,c.showFilterMenu=function(){g.isFilterMenuVisible=!0},c.hideFilterMenu=function(){g.isFilterMenuVisible=!1},g.isSearchMenuVisible=!1,c.showSearchMenu=function(){g.isSearchMenuVisible=!0},c.hideSearchMenu=function(){g.isSearchMenuVisible=!1},g.page="",c.setActiveMenuPage=function(a,b){$("li.active").removeClass(),$("#"+a+"Menu").addClass("active"),g.page=b},g.logout=function(){a.logout(function(){b.path("/")},function(a){b.path("/")})}}}}]),angular.module("sancorsaludApp").controller("LoginController",["$scope","$rootScope","UserAuth","$location",function(a,b,c,d){b.showHeader=!1,b.showFooter=!1,a.userData={username:"",password:""},a.message="",a.doLogin=function(){a.message="",0===a.userData.username.length?alert("warning : Please complete your email"):0===a.userData.password.length?alert("warning : Please complete your password"):c.doLogin(a.userData.username,a.userData.password,function(){c.loggedUserIsSupervisor()?(b.showSearchMenu(),b.hideFilterMenu(),d.path(Config.publicPages.toBeAssigned)):(b.showSearchMenu(),b.showFilterMenu(),d.path(Config.publicPages.assignedToPromoter))},function(b){console.log("login incorrecto"),a.message="No se ha podido autenticar. Valide su usuario y contraseña por favor."})}}]),angular.module("sancorsaludApp").provider("UserAuth",function(){this.$get=["$http","$rootScope",function(a,b){return new UserAuth(a,b)}]}),angular.module("sancorsaludApp").directive("footer",function(){return{template:"<div></div>",restrict:"E",link:function(a,b,c){}}}),angular.module("sancorsaludApp").controller("AgendaCtrl",["$rootScope","$scope","$window","associatedPotentialService","UserAuth","utilsService",function(a,b,c,d,e,f){a.setActiveMenuPage("agenda","Agenda"),a.hideFilterMenu(),a.showSearchMenu(),b.filterSearchedData=function(a){return""==b.filterText?!0:a.nombre.toLowerCase().indexOf(b.filterText.toLowerCase())>=0||a.apellido.toLowerCase().indexOf(b.filterText.toLowerCase())>=0},b.filterText="";var g=function(){b.filterText=a.getSearchText()};f.registerObserverCallback(g,Config.events.onHeaderSearchTextChange),b.loadAgenda=function(){b.associatedPotentialAssignedList={},b.loading=!0,e.loggedUserIsPromoter()&&d.getAssociatedPotentialListForPromoters(function(a){var c=[];a.forEach(function(a){f.isNotNull(a.fecha_agenda)&&c.push(a)}),c.sort(function(a,b){return void 0==a.fecha_agenda?-1:void 0==b.fecha_agenda?-1:new Date(b.fecha_agenda)-new Date(a.fecha_agenda)}),c.reverse(),c.forEach(function(a){if(f.isNotNull(a.fecha_agenda)){var c=f.getDateStringYYYYMMDD(new Date(a.fecha_agenda));null==b.associatedPotentialAssignedList[c]&&(b.associatedPotentialAssignedList[c]=[]),b.associatedPotentialAssignedList[c].push(a)}}),b.loading=!1},function(a){b.loading=!1,console.log(a)})},b.loadAgenda(),f.registerObserverCallback(function(a){a==Config.publicPages.agenda&&b.loadAgenda()},Config.events.onHeaderNavigatePageChange),b.openMapUrl=function(a){c.open("https://www.google.com.ar/maps/place/"+a.direccion_encuentro)},b.getDayDescription=function(a){return new Date(a).toISOString().substring(8,10)},b.getTimeDescription=function(a){return f.getTimeDescription(a).substring(0,5)},b.getMonthDescription=function(a){return f.getMonthDescription(a.substring(5,7))},b.getDateDescription=function(a){return f.formatDateCompleteTextPlusTime(new Date(a))}}]),angular.module("sancorsaludApp").service("associatedPotentialService",["$http","$rootScope","utilsService",function(a,b,c){var d=null,e=null;this.getAssociatedPotentialListForReferents=function(b,c){a({method:"GET",url:Config.api+"PotencialAsociado_ListaParaReferentes"}).then(function(a){a.data.data.hasOwnProperty("potenciales")||c(a),b(a.data.data.potenciales)},function(a){console.log(a),"undefined"!=typeof c&&c(a)})},this.getAssociatedPotentialListForPromoters=function(b,c){a({method:"GET",url:Config.api+"PotencialAsociado_ListaParaPromotores"}).then(function(a){a.data.data.hasOwnProperty("potenciales")||c(a),b(a.data.data.potenciales)},function(a){console.log(a),"undefined"!=typeof c&&c(a)})},this.getAssociatedPotentialPerfil=function(b,c,d){a({method:"GET",url:Config.api+"PotencialAsociado_Perfil/"+b}).then(function(a){a.data.hasOwnProperty("data")||d(a),c(a.data.data)},function(a){console.log(a),"undefined"!=typeof d&&d(a)})},this.motives=[],this.getMotives=function(a,b){return 0!=this.motives.length?a(this.motives):void this.loadMotives(a,b)},this.loadMotives=function(b,c){a({method:"GET",url:Config.api+"PotencialAsociadoMotivos_Mostrar/"}).then(function(a){a.data.data.hasOwnProperty("motivos")||c(a),b(a.data.data.motivos)},function(a){console.log(a),"undefined"!=typeof c&&c(a)})},this.zones=[],this.getZones=function(a,b){return 0==this.zones.length?this.loadZones(a,b):a(this.zones)},this.loadZones=function(b,c){var d=this;a({method:"GET",url:Config.api+"PotencialAsociadoZonas_Listar/"}).then(function(a){a.data.data.hasOwnProperty("zonas")||c(a),d.zones=a.data.data.zonas,b(d.zones)},function(a){console.log(a),"undefined"!=typeof c&&c(a)})},this.updateAssociatedPotential=function(b,c,d){a({method:"PUT",contentType:"application/json",url:Config.api+"PotencialAsociado_Modificar",data:JSON.stringify(b),dataType:"json"}).then(function(a){"undefined"!=typeof c&&c(a.data.data)},function(a){console.log(a),"undefined"!=typeof d&&d(a)})},this.newAssociatedPotential=function(b,c,d){a({method:"POST",contentType:"application/json",url:Config.api+"PotencialAsociado_Agregar",data:JSON.stringify(b),dataType:"json"}).then(function(a){"undefined"!=typeof c&&c(a.data.data)},function(a){console.log(a),"undefined"!=typeof d&&d(a)})},this.closeAssociatedPotential=function(b,c,d,e){a({method:"POST",url:Config.api+"PotencialAsociado_Cerrar",data:{motivo_id:c,potencial_id:b}}).then(function(a){"undefined"!=typeof d&&d(a.data.data)},function(a){console.log(a),"undefined"!=typeof e&&e(a)})},this.saveAssociatedPotentialAgenda=function(b,c,d){a({method:"PUT",url:Config.api+"PotencialAsociado_Agendar",data:JSON.stringify({potencial_id:b.potencial_id,fecha_agenda:b.fecha_agenda,calendario_id:b.calendario_id,notas:b.notas,direccion_encuentro:b.direccion_encuentro}),dataType:"json"}).then(function(a){"undefined"!=typeof c&&c(a.data.data)},function(a){console.log(a),"undefined"!=typeof d&&d(a)})},this.valuedAssociatedPotential=function(b,c,d,e){a({method:"PUT",url:Config.api+"PotencialAsociado_Cotizar",data:JSON.stringify({potencial_id:b.potencial_id,cotizacion_temp:c.plan+"  "+c.value}),dataType:"json"}).then(function(a){"undefined"!=typeof d&&d(a.data.data)},function(a){console.log(a),"undefined"!=typeof e&&e(a)})},this.assignAssociatedToPromoter=function(b,c,d,e){a({method:"PUT",url:Config.api+"PotencialAsociado_AsignarPromotor",data:JSON.stringify({potencial_id:b,promotor_id:c}),dataType:"json"}).then(function(a){"undefined"!=typeof d&&d(a.data.data)},function(a){console.log(a),"undefined"!=typeof e&&e(a)})},this.getPromotersList=function(b,c){a({method:"GET",url:Config.api+"PotencialAsociado_MostrarPromotores"}).then(function(a){a.data.data.hasOwnProperty("promotores")||c(a),b(a.data.data.promotores)},function(a){console.log(a),"undefined"!=typeof c&&c(a)})},this.getFiltros=function(b,d,e,f,g){var h="";c.isNotNull(d)&&""!=d&&(h="/"+d),a({method:"GET",url:Config.api+"Cotizacion_Listar/"+b+h}).then(function(a){a.data.data.hasOwnProperty(e)||g(a),f(a.data.data[e])},function(a){console.log(a),"undefined"!=typeof g&&g(a)})},this.validateDocumentNumber=function(b,c,d){a({method:"GET",url:Config.api+"PotencialAsociado_VerificarExistencia/"+b}).then(function(a){a.data.data.hasOwnProperty("mensaje")||d(a),c(a.data.data.mensaje)},function(a){console.log(a),"undefined"!=typeof d&&d(a)})},this.getAssignedAndPendingCountForPromoter=function(b,c){a({method:"GET",url:Config.api+"PotencialAsociado_CantidadAsignadosyPendientesPromotor"}).then(function(a){a.data.data.hasOwnProperty("cantidadAsignados")||c(a),b(a.data.data)},function(a){console.log(a),"undefined"!=typeof c&&c(a)})},this.getAssignedAndPendingCountForSupervisor=function(b,c){a({method:"GET",url:Config.api+"PotencialAsociado_CantidadAsignadosyPendientes"}).then(function(a){a.data.data.hasOwnProperty("cantidad_pendientes")||c(a),b(a.data.data)},function(a){console.log(a),"undefined"!=typeof c&&c(a)})},this.getSelectedPotential=function(){return d},this.setSelectedPotential=function(a){d=a},this.setOrigenAdicionales=function(a){e=a},this.getOrigenAdicionales=function(){return e}}]),angular.module("sancorsaludApp").controller("TobeassignedcontrollerCtrl",["$rootScope","$scope","$location","associatedPotentialService","UserAuth","utilsService","$uibModal",function(a,b,c,d,e,f,g){a.setActiveMenuPage("toBeAssigned","Asignados"),a.hideFilterMenu(),a.showSearchMenu(),b.associatedPotentialDialog=$("#asignar"),b.filterSearchedData=function(a){return""==b.filterText?!0:a.nombre.toLowerCase().indexOf(b.filterText.toLowerCase())>=0||a.apellido.toLowerCase().indexOf(b.filterText.toLowerCase())>=0},b.filterText="";var h=function(){b.filterText=a.getSearchText()};f.registerObserverCallback(h,Config.events.onHeaderSearchTextChange),b.loadAssociatedPotential=function(){b.associatedPotentialList=[],b.promoterList=[],e.loggedUserIsSupervisor()&&(b.loading=!0,d.getAssociatedPotentialListForReferents(function(a){b.associatedPotentialList=a.reverse();var c=0;a.forEach(function(a){20==a.estado&&c++});var d="Tienes "+c+" potenciales Asociados sin asignar";$(".supervisor-mensaje").text(d),$("#confirmar").removeClass("open"),b.loading=!1},function(a){b.loading=!1,console.log(a)}),d.getPromotersList(function(a){b.promoterList=a},function(a){console.log(a)}))},b.loadAssociatedPotential(),f.registerObserverCallback(function(a){a==Config.publicPages.toBeAssigned&&b.loadAssociatedPotential()},Config.events.onHeaderNavigatePageChange),b.selectedAssociatedPotencial=null,b.setSelectedAssociatedPotencial=function(a){d.getAssociatedPotentialPerfil(a.potencial_id,function(c){a.perfil=c,b.selectedAssociatedPotencial=a},function(c){b.selectedAssociatedPotencial=a})},b.isAssigned=function(a){return f.isNotNull(a.promotor_id)},b.getDateToExpireMessage=function(a){return f.isNotNull(a.dias_asig_ref)?a.dias_asig_ref+" días":""},b.assignAssociatedPotentials=function(a){for(var c=$(".item-list").find('input[name="asignar[]"]:not(:disabled):checked'),e=parseInt($('input[name="usuario"]:checked')[0].id.substring("check-promotor".length)),f=[],g=0;g<c.length;g++)f.push(parseInt(c[g].value));d.assignAssociatedToPromoter(f,e,function(a){b.associatedPotentialDialog.modal("toggle"),$(".btn-nav").show(),$("#lista").show(),$("#lista-promotor").hide(),$(".btn-back").hide(),$("#confirmar .step2").hide(),$("#confirmar .step1").show(),b.loadAssociatedPotential()},function(a){b.associatedPotentialDialog.modal("toggle")})},b.getState=function(a){return 1==a.estado?"entrevistado":2==a.estado?"cotizado":3==a.estado?"sin-agendar":void 0},b.showAssociatedPotentialDataModal=function(a){b.setSelectedAssociatedPotencial(a),$("#associatedPotentialDataModal").modal("toggle")}}]),angular.module("sancorsaludApp").service("utilsService",["$http","$rootScope",function(a,b){var c={};this.getDateFromString=function(a){if(void 0==a)return"";var b=parseInt(a.substring(0,4)),c=parseInt(a.substring(5,7)),d=parseInt(a.substring(8,10)),e=new Date(b,c-1,d);return e},this.getDaysBetweenTwoDates=function(a,b){var c=new Date(this.getDateFromString(b)),d=new Date(this.getDateFromString(a)),e=Math.abs(c.getTime()-d.getTime()),f=Math.ceil(e/864e5);return f},this.getStringDate=function(a){return a.toISOString().slice(0,10)},this.isNotNull=function(a){return void 0!=a&&null!=a},this.isNotNullScopeObjectParameter=function(a,b){if("string"!=typeof b)throw Error();if(void 0==b||null==b)return!1;for(var c=b.split("."),d=0;d<c.length;d++)if(void 0==a[c[d]]||null==a[c[d]])return!1;return!0},this.isNullOrEmpty=function(a){return void 0==a||null==a||0==a.length};var d=[];d[1]="Ene",d[2]="Feb",d[3]="Mar",d[4]="Abr",d[5]="May",d[6]="Jun",d[7]="Jul",d[8]="Ago",d[9]="Sep",d[10]="Oct",d[11]="Nov",d[12]="Dic";var e=[];e[1]="Enero",e[2]="Febrero",e[3]="Marzo",e[4]="Abril",e[5]="Mayo",e[6]="Junio",e[7]="Julio",e[8]="Agosto",e[9]="Septiembre",e[10]="Octubre",e[11]="Noviembre",e[12]="Diciembre";var f=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];this.getMonthDescription=function(a){return d[parseInt(a)]},this.formatDateDayTextPlusTime=function(a){return f[a.getDay()]+" "+a.getDate()+", "+("00"+a.getHours()).substring(a.getHours().toString().length)+":"+("00"+a.getMinutes()).substring(a.getMinutes().toString().length)+"hs"},this.formatDateCompleteTextPlusTime=function(a){return a.getDate()+" de "+e[a.getMonth()+1]+" de "+a.getFullYear()+", "+("00"+a.getHours()).substring(a.getHours().toString().length)+":"+("00"+a.getMinutes()).substring(a.getMinutes().toString().length)+"hs"},this.getDateDescription=function(a){if(!this.isNotNull(a))return"";var b=new Date(a);return b.toISOString().substring(0,10)},this.getTimeDescription=function(a){if(!this.isNotNull(a))return"";var b=new Date(a);return("00"+b.getHours()).substring(b.getHours().toString().length)+":"+("00"+b.getMinutes()).substring(b.getMinutes().toString().length)},this.buildLocalDateTime=function(a,b){return""==b&&(b="00:00"),b.length>5&&(b=b.substring(0,5)),a.length>10&&(a=a.substring(0,10)),a+"T"+b+":00.000-03:00"},this.getDateStringYYYYMMDD=function(a){var b=new Date;return this.isNotNull(a)&&(b=new Date(a)),b.getFullYear()+"-"+("00"+(b.getMonth()+1)).substring((b.getMonth()+1).toString().length)+"-"+("00"+b.getDate()).substring(b.getDate().toString().length)},this.registerObserverCallback=function(a,b){b.constructor!=Array&&(b=[b]),angular.forEach(b,function(b){c.hasOwnProperty(b)||(c[b]=[]),c[b].push(a)})},this.notifyObservers=function(a,b){angular.forEach(c[a],function(a){a(b)})}}]),angular.module("sancorsaludApp").controller("NewAssociatedPotentialController",["$rootScope","$scope","associatedPotentialService","UserAuth","utilsService","$location",function(a,b,c,d,e,f){b.isSupervisorRole=!1,d.loggedUserIsPromoter()&&a.setActiveMenuPage("newAssociatedPotentialPromoter","Alta Potencial"),d.loggedUserIsSupervisor()&&(b.isSupervisorRole=!0,a.setActiveMenuPage("newAssociatedPotentialSupervisor","Alta Potencial")),d.loggedUserIsDataEntry()&&a.setActiveMenuPage("newAssociatedPotentialDataEntry","Alta Potencial"),a.hideFilterMenu(),a.hideSearchMenu(),b.userMessage="",b.newAssociatedPotential={},b.associatedPotentialDialog=$("#form-dialog"),b.userMessageDialog=$("#message-dialog"),b.zones=[],b.zonesPromotor=[],c.getZones(function(a){b.zones=a,b.zonesPromotor=[];for(var c=0;c<d.getUserData().zona_id;c++)for(var e=0;e<a.length;e++)a[e].zona_id==d.getUserData().zona_id[c]&&b.zonesPromotor.push(a[e])},function(a){console.log(a)}),b.documentNumberValidationMessage="",b.validateDocumentNumber=function(){return void 0==b.newAssociatedPotential.dni||b.newAssociatedPotential.dni.toString().length<1?void(b.documentNumberValidationMessage="Ingrese un nro de documento válido"):(b.newAssociatedPotential.dni.length>8&&(b.newAssociatedPotential.dni=b.newAssociatedPotential.dni.slice(0,8)),void c.validateDocumentNumber(b.newAssociatedPotential.dni,function(a){b.documentNumberValidationMessage=a},function(a){void 0!=a.data&&void 0!=a.data.message?b.documentNumberValidationMessage=a.data.message:b.documentNumberValidationMessage="Ingrese un nro de documento válido"}))},b.createAssociatedPotential=function(){b.userMessage="",d.loggedUserIsPromoter()===!1&&null!=d.getUserData().zone_id&&d.getUserData().zone_id.length>0&&(b.newAssociatedPotential.nro_zona=d.getUserData().zone_id[0]),0==e.isNotNull(b.newAssociatedPotential.fecha_nac)&&delete b.newAssociatedPotential.fecha_nac,c.validateDocumentNumber(b.newAssociatedPotential.dni,function(a){b.newAssociatedPotential.es_empresa="N",b.newAssociatedPotential.es_empresa_boolean===!0&&(b.newAssociatedPotential.es_empresa="S"),void 0!=b.newAssociatedPotential.nro_zona&&(b.newAssociatedPotential.nro_zona=parseInt(b.newAssociatedPotential.nro_zona)),d.loggedUserIsPromoter()&&(b.newAssociatedPotential.promotor_id=d.getUserData()._id),d.loggedUserIsSupervisor()&&(b.newAssociatedPotential.referente_id=d.getUserData()._id),c.newAssociatedPotential(b.newAssociatedPotential,function(a){b.associatedPotentialDialog.modal("toggle"),d.loggedUserIsSupervisor()?setTimeout(function(){
f.url(Config.publicPages.toBeAssigned)},5):setTimeout(function(){f.url(Config.publicPages.assignedToPromoter)},5)},function(a){b.userMessage="No se ha podido crear el potencial asociado",b.associatedPotentialDialog.modal("toggle"),setTimeout(function(){b.userMessageDialog.modal("toggle")},500)})},function(a){b.userMessage="Verifique que el número de documento sea válido",void 0!=a.data&&void 0!=a.data.message&&(b.userMessage+=". "+a.data.message),b.associatedPotentialDialog.modal("toggle"),setTimeout(function(){b.userMessageDialog.modal("toggle")},500)})}}]),angular.module("sancorsaludApp").controller("PromoterListController",["$rootScope","$scope","associatedPotentialService","UserAuth","utilsService",function(a,b,c,d,e){a.setActiveMenuPage("promoterList","Asesores"),a.hideFilterMenu(),a.showSearchMenu(),b.loading=!1,b.filterSearchedData=function(a){return""==b.filterText?!0:a.nombre.toLowerCase().indexOf(b.filterText.toLowerCase())>=0||a.apellido.toLowerCase().indexOf(b.filterText.toLowerCase())>=0},b.filterText="";var f=function(){b.filterText=a.getSearchText()};e.registerObserverCallback(f,Config.events.onHeaderSearchTextChange),b.loadPromoterList=function(){b.promoterList=[],d.loggedUserIsSupervisor()&&(b.loading=!0,c.getPromotersList(function(a){b.promoterList=a,b.loading=!1},function(a){b.loading=!1,console.log(a)}))},b.loadPromoterList(),e.registerObserverCallback(function(a){a==Config.publicPages.promoterList&&b.loadPromoterList()},Config.events.onHeaderNavigatePageChange)}]),angular.module("sancorsaludApp").directive("associatedData",function(){return{templateUrl:"views/templates/associatedDataTemplate.html",restrict:"E",scope:{associatedPotential:"=associated"}}}),function(a){function b(a){return"undefined"==typeof a.which?!0:"number"==typeof a.which&&a.which>0?!a.ctrlKey&&!a.metaKey&&!a.altKey&&8!=a.which&&9!=a.which&&13!=a.which&&16!=a.which&&17!=a.which&&20!=a.which&&27!=a.which:!1}function c(b){var c=a(b);c.prop("disabled")||c.closest(".form-group").addClass("is-focused")}function d(a,b){var c;return c=a.hasClass("checkbox-inline")||a.hasClass("radio-inline")?a:a.closest(".checkbox").length?a.closest(".checkbox"):a.closest(".radio"),c.toggleClass("disabled",b)}function e(b){var e=!1;(b.is(a.material.options.checkboxElements)||b.is(a.material.options.radioElements))&&(e=!0),b.closest("label").hover(function(){var b=a(this).find("input"),f=b.prop("disabled");e&&d(a(this),f),f||c(b)},function(){f(a(this).find("input"))})}function f(b){a(b).closest(".form-group").removeClass("is-focused")}a.expr[":"].notmdproc=function(b){return a(b).data("mdproc")?!1:!0},a.material={options:{validate:!0,input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple",".pagination li:not(.active):not(.disabled) a:not(.withoutripple)"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox], label.checkbox-inline > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio], label.radio-inline > input[type=radio]"},checkbox:function(b){var c=a(b?b:this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class='checkbox-material'><span class='check'></span></span>");e(c)},togglebutton:function(b){var c=a(b?b:this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class='toggle'></span>");e(c)},radio:function(b){var c=a(b?b:this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class='circle'></span><span class='check'></span>");e(c)},input:function(b){a(b?b:this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each(function(){var b=a(this),c=b.closest(".form-group");0!==c.length||"hidden"===b.attr("type")||b.attr("hidden")||(b.wrap("<div class='form-group'></div>"),c=b.closest(".form-group")),b.attr("data-hint")&&(b.after("<p class='help-block'>"+b.attr("data-hint")+"</p>"),b.removeAttr("data-hint"));var d={"input-lg":"form-group-lg","input-sm":"form-group-sm"};if(a.each(d,function(a,d){b.hasClass(a)&&(b.removeClass(a),c.addClass(d))}),b.hasClass("floating-label")){var e=b.attr("placeholder");b.attr("placeholder",null).removeClass("floating-label");var f=b.attr("id"),g="";f&&(g="for='"+f+"'"),c.addClass("label-floating"),b.after("<label "+g+"class='control-label'>"+e+"</label>")}(null===b.val()||"undefined"==b.val()||""===b.val())&&c.addClass("is-empty"),c.find("input[type=file]").length>0&&c.addClass("is-fileinput")})},attachInputEventHandlers:function(){var d=this.options.validate;a(document).on("keydown paste",".form-control",function(c){b(c)&&a(this).closest(".form-group").removeClass("is-empty")}).on("keyup change",".form-control",function(){var b=a(this),c=b.closest(".form-group"),e="undefined"==typeof b[0].checkValidity||b[0].checkValidity();""===b.val()?c.addClass("is-empty"):c.removeClass("is-empty"),d&&(e?c.removeClass("has-error"):c.addClass("has-error"))}).on("focus",".form-control, .form-group.is-fileinput",function(){c(this)}).on("blur",".form-control, .form-group.is-fileinput",function(){f(this)}).on("change",".form-group input",function(){var b=a(this);if("file"!=b.attr("type")){var c=b.closest(".form-group"),d=b.val();d?c.removeClass("is-empty"):c.addClass("is-empty")}}).on("change",".form-group.is-fileinput input[type='file']",function(){var b=a(this),c=b.closest(".form-group"),d="";a.each(this.files,function(a,b){d+=b.name+", "}),d=d.substring(0,d.length-2),d?c.removeClass("is-empty"):c.addClass("is-empty"),c.find("input.form-control[readonly]").val(d)})},ripples:function(b){a(b?b:this.options.withRipples).ripples()},autofill:function(){var b=setInterval(function(){a("input[type!=checkbox]").each(function(){var b=a(this);b.val()&&b.val()!==b.attr("value")&&b.trigger("change")})},100);setTimeout(function(){clearInterval(b)},1e4)},attachAutofillEventHandlers:function(){var b;a(document).on("focus","input",function(){var c=a(this).parents("form").find("input").not("[type=file]");b=setInterval(function(){c.each(function(){var b=a(this);b.val()!==b.attr("value")&&b.trigger("change")})},100)}).on("blur",".form-group input",function(){clearInterval(b)})},init:function(b){this.options=a.extend({},this.options,b);var c=a(document);a.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&(this.input(),this.attachInputEventHandlers()),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&(this.autofill(),this.attachAutofillEventHandlers()),document.arrive&&this.options.arrive&&(a.fn.ripples&&this.options.ripples&&c.arrive(this.options.withRipples,function(){a.material.ripples(a(this))}),this.options.input&&c.arrive(this.options.inputElements,function(){a.material.input(a(this))}),this.options.checkbox&&c.arrive(this.options.checkboxElements,function(){a.material.checkbox(a(this))}),this.options.radio&&c.arrive(this.options.radioElements,function(){a.material.radio(a(this))}),this.options.togglebutton&&c.arrive(this.options.togglebuttonElements,function(){a.material.togglebutton(a(this))}))}}}(jQuery),function(a,b,c,d){function e(b,c){g=this,this.element=a(b),this.options=a.extend({},h,c),this._defaults=h,this._name=f,this.init()}var f="ripples",g=null,h={};e.prototype.init=function(){var c=this.element;c.on("mousedown touchstart",function(d){if(!g.isTouch()||"mousedown"!==d.type){c.find(".ripple-container").length||c.append('<div class="ripple-container"></div>');var e=c.children(".ripple-container"),f=g.getRelY(e,d),h=g.getRelX(e,d);if(f||h){var i=g.getRipplesColor(c),j=a("<div></div>");j.addClass("ripple").css({left:h,top:f,"background-color":i}),e.append(j),function(){return b.getComputedStyle(j[0]).opacity}(),g.rippleOn(c,j),setTimeout(function(){g.rippleEnd(j)},500),c.on("mouseup mouseleave touchend",function(){j.data("mousedown","off"),"off"===j.data("animating")&&g.rippleOut(j)})}}})},e.prototype.getNewSize=function(a,b){return Math.max(a.outerWidth(),a.outerHeight())/b.outerWidth()*2.5},e.prototype.getRelX=function(a,b){var c=a.offset();return g.isTouch()?(b=b.originalEvent,1===b.touches.length?b.touches[0].pageX-c.left:!1):b.pageX-c.left},e.prototype.getRelY=function(a,b){var c=a.offset();return g.isTouch()?(b=b.originalEvent,1===b.touches.length?b.touches[0].pageY-c.top:!1):b.pageY-c.top},e.prototype.getRipplesColor=function(a){var c=a.data("ripple-color")?a.data("ripple-color"):b.getComputedStyle(a[0]).color;return c},e.prototype.hasTransitionSupport=function(){var a=c.body||c.documentElement,b=a.style,e=b.transition!==d||b.WebkitTransition!==d||b.MozTransition!==d||b.MsTransition!==d||b.OTransition!==d;return e},e.prototype.isTouch=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.prototype.rippleEnd=function(a){a.data("animating","off"),"off"===a.data("mousedown")&&g.rippleOut(a)},e.prototype.rippleOut=function(a){a.off(),g.hasTransitionSupport()?a.addClass("ripple-out"):a.animate({opacity:0},100,function(){a.trigger("transitionend")}),a.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.remove()})},e.prototype.rippleOn=function(a,b){var c=g.getNewSize(a,b);g.hasTransitionSupport()?b.css({"-ms-transform":"scale("+c+")","-moz-transform":"scale("+c+")","-webkit-transform":"scale("+c+")",transform:"scale("+c+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):b.animate({width:2*Math.max(a.outerWidth(),a.outerHeight()),height:2*Math.max(a.outerWidth(),a.outerHeight()),"margin-left":-1*Math.max(a.outerWidth(),a.outerHeight()),"margin-top":-1*Math.max(a.outerWidth(),a.outerHeight()),opacity:.2},500,function(){b.trigger("transitionend")})},a.fn.ripples=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document),$(document).ready(function(){function a(){var a=$(".item-list").find('input[name="asignar[]"]:not(:checked)').length,b="Tienes "+a+" potenciales Asociados sin asignar";$(".supervisor-mensaje").text(b),$("#confirmar").removeClass("open")}$.material.init(),$("#dni").keypress(function(a){return isNumber(event,this)}),$("body").on("click",".menu li.active a",function(a){a.preventDefault()});var b=$(window).height(),c=$(window).width();$(window).resize(function(){b=$(window).height(),c=$(window).width()}),$("body").on("click",".btn-menu",function(){$(".header .menu").css("height",b-56)}),$("body").on("click",".btn-nav",function(){$("body").toggleClass("open-menu"),$(".bg-menu").toggleClass("open")}),$("body").on("click",".bg-menu",function(){$("body").toggleClass("open-menu"),$(this).toggleClass("open")}),$("body").on("click",".smart-search",function(){$(".search").toggleClass("open-top"),$(".search").toggle(),$(this).toggleClass("open-top"),$(".search input.smart").focus()}),$("body").on("focus",".search input",function(){c>=769&&$(".header").addClass("open-search")}),$("body").on("blur",".search input",function(){$(".header").removeClass("open-search"),768>=c&&($(".search").toggleClass("open-top"),$(".search").toggle(),$(".smart-search").toggleClass("open-top"))}),$("body").on("click","#dropdownMenu1",function(){$(".filtros.dropdown").hasClass("open")?$(".filtros.dropdown").removeClass("open"):$(".filtros.dropdown").addClass("open")}),$("body").on("click","#sin-agendar",function(a){a.preventDefault(),$(".item").hide(),$(".modal.asignados .item").show(),$(".filtro > div").hide(),$(".filtro .sin-agendar").show(),$('.item[data-filter="S"]').show()}),$("body").on("click","#entrevistados",function(a){a.preventDefault(),$(".item").hide(),$(".modal.asignados .item").show(),$(".filtro > div").hide(),$(".filtro .entrevistados").show(),$('.item[data-filter="A"]').show()}),$("body").on("click","#cotizados",function(a){a.preventDefault(),$(".item").hide(),$(".modal.asignados .item").show(),$(".filtro > div").hide(),$(".filtro .cotizados").show(),$('.item[data-filter="C"]').show()}),$("body").on("click",".filtro .cerrar",function(){$(".item").show(),$(this).parent().hide()}),$("body").on("click",".cargar .btn-enviar",function(a){""===$('input[name="name"]').val()||""===$('input[name="dni"]').val()||""===$('input[name="tel"]').val()&&""===$('input[name="cel"]').val()||(a.preventDefault(),console.log("form lleno"),$("#form-dialog p.nombre").text($('input[name="name"]').val()+" "+$('input[name="apellido"]').val()),$("#form-dialog p.dni").text("DNI: "+$('input[name="dni"]').val()),$("#form-dialog p.fecha-nacimiento").text("Fecha de Nacimiento: "+$('input[name="fecha-nacimiento"]').val()),$("#form-dialog p.cod-postal").text("Código Postal: "+$('input[name="cod-postal"]').val()),$("#form-dialog p.tel").text("Teléfono fijo: "+$('input[name="tel"]').val()),$("#form-dialog p.cel").text("Teléfono celular: "+$('input[name="cel"]').val()),$("#form-dialog p.mail").text("Mail: "+$('input[name="mail"]').val()),$("#form-dialog").modal("toggle"))}),$("#supervisor-cargar .btn-enviar").on("click",function(a){""===$('input[name="name"]').val()||""===$('input[name="dni"]').val()||""===$('input[name="tel"]').val()&&""===$('input[name="cel"]').val()||(a.preventDefault(),console.log("form lleno"),$("#form-dialog p.nombre").text($('input[name="name"]').val()+" "+$('input[name="apellido"]').val()),$("#form-dialog p.dni").text("DNI: "+$('input[name="dni"]').val()),$("#form-dialog p.fecha-nacimiento").text("Fecha de Nacimiento: "+$('input[name="fecha-nacimiento"]').val()),$("#form-dialog p.cod-postal").text("Código Postal: "+$('input[name="cod-postal"]').val()),$("#form-dialog p.tel").text("Teléfono fijo: "+$('input[name="tel"]').val()),$("#form-dialog p.cel").text("Teléfono celular: "+$('input[name="cel"]').val()),$("#form-dialog p.mail").text("Mail: "+$('input[name="mail"]').val()),$("#form-dialog").modal("toggle"))}),$("body").on("click",".item-text",function(){var a=$(this).data("modalnum");$("#"+a).find(".item").last().addClass("last"),$("#"+a).find(".plan").hide(),$("#"+a).find(".costo").hide(),$("#"+a+" .modal-header > h3").text($(this).find(".nombre").text()),$("#"+a).modal("toggle"),console.log($(this).find(".nombre").text())}),$("body").on("click",".cotizar-ok",function(){var a=$(this).parent().find("input[name=plan-value]").val(),b=$(this).parent().find("input[name=costo-value]").val();""!==a&&($(this).parent().parent().find(".form-group.plan input").prop("value",a),$(this).parent().parent().find(".form-group.plan").removeClass("is-empty"),$(this).parent().parent().find(".form-group.plan").show(),$(this).parent().parent().find(".icono.plan").show()),""!==b&&($(this).parent().parent().find(".form-group.costo input").prop("value",b),$(this).parent().parent().find(".form-group.costo").removeClass("is-empty"),$(this).parent().parent().find(".form-group.costo").show(),$(this).parent().parent().find(".icono.costo").show()),$(".cotizar-modal").hide(),$(".modal-content.open-modal").toggleClass("open-modal")}),$("body").on("click",".cotizar-modal .cerrar",function(a){a.preventDefault(),$(".cotizar-modal").hide(),$(".modal-content.open-modal").toggleClass("open-modal")}),$("body").on("click","#form-dialog .cerrar",function(){$("#form-dialog").modal("toggle")}),$("body").on("click","#form-dialog .enviar",function(){console.log("Envio Datos")}),a(),$("body").on("change",".checkbox input",function(b){var c=$(".item-list").find('input[name="asignar[]"]:not(:disabled):checked').length,d=$('input[name="usuario"]:checked').val();if(console.log(d),c>=1){var e="Vas a asignar "+c+" potenciales Asociados";void 0!==d&&(e="Vas a asignar "+c+" potenciales Asociados a "+d),$(".supervisor-mensaje").text(e),$("#confirmar").addClass("open")}else a()}),$("body").on("click",".btn-back",function(a){$(".btn-nav").show(),$("#lista").show(),$("#lista-promotor").hide(),$(".btn-back").hide(),$("#confirmar .step2").hide(),$("#confirmar .step1").show()}),$("body").on("click","#confirmar .step1",function(a){$(".item-list").find('input[name="asignar[]"]:not(:disabled):checked').length;$(".btn-nav").hide(),$("#lista").hide(),$("#lista-promotor").show(),$(".btn-back").show(),$("#confirmar .step1").hide(),$("#confirmar .step2").show(),$("html, body").animate({scrollTop:0},"fast")}),$("body").on("click","#confirmar .step2",function(a){var b=$(".item-list").find('input[name="asignar[]"]:not(:disabled):checked').length,c=$('input[name="usuario"]:checked').val(),d="Vas a asignar "+b+" potenciales Asociados a "+c;console.log(d),$("#asignar p").text(d),$("#asignar").modal("toggle")})}),angular.module("sancorsaludApp").controller("ValuationCtrl",["$rootScope","$scope","$location","$routeParams","associatedPotentialService","UserAuth","utilsService",function(a,b,c,d,e,f,g){a.hideFilterMenu(),a.hideSearchMenu(),$(".modal-backdrop").modal("hide"),$(".modal-backdrop").modal("show"),$(".modal-backdrop").modal("hide"),b.faltaEmpresaOAfinidad=!1,b.faltanDatosParentesco=!1,b.esAutonomo=!1,b.esDesregulado=!1,b.esMonotributista=!1,b.esIndividual=!1,b.esEmpresa=!1,b.esAfinidad=!1,b.tarjetaEsVisible=!1,b.bancoEsVisible=!1,b.mostrarModuloBase=!0,b.mostrarAdicionales=!1,b.mostrarTransferencia=!1,b.mostrarVerCotizacion=!1,b.OrigenAdionales=e.getOrigenAdicionales(),b.estoyEnPaso2Adicionales=!1,"asignados"==b.OrigenAdionales&&(b.estoyEnPaso2Adicionales=!0),b.estaActivo=!1,b.activoEncontrado={dni:"",nombre:"",apellido:"",cp:"",edad:"",fecha_ingreso:"",cobertura:"",categoria:"",iva:""},b.activos=[{dni:"36396750",nombre:"Guillermo",apellido:"Haserfaty",cp:"7200",edad:"25",fecha_ingreso:"20-02-2017",cobertura:"osde",categoria:"activo",iva:"Monotributista"},{dni:"36396751",nombre:"Fernando",apellido:"Cavenaghi",cp:"7200",edad:"45",fecha_ingreso:"20-02-2017",cobertura:"galeno",categoria:"activo",iva:"Monotributista"}],b.buscarSiEstaActivoPorDni=function(a){if(!(6>a))for(var c=0;c<b.activos.length;c++){if(b.activos[c].dni==a){b.activoEncontrado.dni=a,b.activoEncontrado.nombre=b.activos[c].nombre,b.activoEncontrado.apellido=b.activos[c].apellido,b.activoEncontrado.cp=b.activos[c].cp,b.activoEncontrado.edad=b.activos[c].edad,b.activoEncontrado.fecha_ingreso=b.activos[c].fecha_ingreso,b.activoEncontrado.cobertura=b.activos[c].cobertura,b.activoEncontrado.categoria=b.activos[c].categoria,b.activoEncontrado.iva=b.activos[c].iva;break}b.activoEncontrado.dni="",b.activoEncontrado.nombre="",b.activoEncontrado.apellido="",b.activoEncontrado.cp=b.activos[c].cp="",b.activoEncontrado.edad="",b.activoEncontrado.fecha_ingreso="",b.activoEncontrado.cobertura="",b.activoEncontrado.categoria="",b.activoEncontrado.iva=""}},"transferencia"===d.tipo?(b.tipo="transferencia",a.setActiveMenuPage("transferPromoter","Transferencia"),b.mostrarTransferencia=!0,b.mostrarModuloBase=!1,b.mostrarAdicionales=!1):"solo-adicionales"===d.tipo?(b.tipo="adicionales",a.setActiveMenuPage("additionalPromoter","Adicionales"),b.mostrarTransferencia=!1,b.mostrarAdicionales=!0,b.mostrarModuloBase=!1):(b.tipo="plan",a.setActiveMenuPage("assignedToPromoter","Cotizar"),b.mostrarTransferencia=!1,b.mostrarAdicionales=!1,b.mostrarModuloBase=!0),b.leyendaEmpresaNoExistente=Config.formaDeIngreso.empresaNoExistenteLeyenda,b.newMember={},b.valuation={},b.valuation.members=[],b.valuation.potential=e.getSelectedPotential(),b.valuation.iva="",b.valuation.cobertura="",b.valuation.cat="",b.valuation.aporteLegal="",b.estoyEnPaso2=!1,b.coberturas=[],e.getFiltros("Coberturas","","coberturas",function(a){b.coberturas=a},function(a){}),b.parentescos=[],e.getFiltros("Parentescos","","parentescos",function(a){b.parentescos=a},function(a){}),b.bancos=[],e.getFiltros("Bancos","","bancos",function(a){b.bancos=a},function(a){}),b.tarjetas=[],e.getFiltros("Tarjetas","","tarjetas",function(a){b.tarjetas=a},function(a){}),b.formasDePago=[],e.getFiltros("FormasDePago","","formas",function(a){b.formasDePago=a},function(a){console.log(a)}),b.addMember=function(){var a={parentesco:b.newMember.parentesco,edad:b.newMember.edad,dni:b.newMember.dni};b.valuation.members.push(a),b.newMember.parentesco="",b.newMember.edad="",b.newMember.dni="",$("#integrante").modal("hide")},b.deleteMember=function(a){b.valuation.members.splice(a,1)},b.conyugue={},b.getConyugue=function(){for(var a=0;a<valuation.members.length;a++)"1"==valuation.members[a].parentesco&&(b.conyugue={parentesco:"1",edad:valuation.members[a].edad,dni:valuation.members[a].dni})},b.clickEnEmpresa=function(){b.eligioEmpresa=!0},b.abrirModalIntegrante=function(){$("#integrante").modal("show")},b.cerrarModalIntegrante=function(){return""==b.newMember.parentesco||""==b.newMember.edad||""==b.newMember.dni?void(b.faltanDatosParentesco=!0):(b.faltanDatosParentesco=!1,b.newMember.parentesco="",b.newMember.edad="",b.newMember.dni="",void $("#integrante").modal("hide"))},b.empresas=[],b.empresa_descripcion=[],b.loadingEmpresas=!1,b.afinidades=[],b.afinidadesDescripcion=[],b.loadingAfinidades=!1,b.buscarEmpresas=function(){b.valuation.empresa.length>=2&&0==b.loadingEmpresas&&(b.loadingEmpresas=!0,e.getFiltros("Empresas",b.valuation.empresa,"empresas",function(a){b.empresas=a,b.empresa_descripcion=[];for(var c=0;c<b.empresas.length&&10>c;c++)b.empresa_descripcion.push(b.empresas[c].empresa_descripcion);$("#numero-empresa").autocomplete({source:b.empresa_descripcion}),b.loadingEmpresas=!1},function(a){}))},b.buscarAfinidades=function(){b.valuation.afinidad.length>=2&&0==b.loadingAfinidades&&(b.loadingAfinidades=!0,e.getFiltros("Afinidades",b.valuation.afinidad,"afinidades",function(a){b.afinidades=a,console.log(b.afinidades),b.afinidadesDescripcion=[];for(var c=0;c<b.afinidades.length&&10>c;c++)b.afinidadesDescripcion.push(b.afinidades[c].afinidad_descripcion);$("#numero-grupo").autocomplete({source:b.afinidadesDescripcion}),b.loadingAfinidades=!1},function(a){}))},b.atras=function(){"plan"===b.tipo&&(b.estoyEnPaso2=!1,b.mostrarModuloBase=!0,b.mostrarVerCotizacion=!1),"adicionales"===b.tipo&&(b.estoyEnPaso2Adicionales=!1)},b.onFormaDePagoChange=function(){b.tarjetaEsVisible=b.valuation.formaDePago==Config.wayToPay.creditCard,b.bancoEsVisible=b.valuation.formaDePago==Config.wayToPay.creditCard||b.valuation.formaDePago==Config.wayToPay.cbu},b.siguiente=function(){if("adicionales"===b.tipo&&(b.estoyEnPaso2Adicionales=!0,b.estoyEnPaso2=!1),"plan"===b.tipo){if(!$("form")[0].checkValidity())return;b.estoyEnPaso2Adicionales=!1,b.estoyEnPaso2=!0}"transferencia"===b.tipo&&(b.estoyEnPaso2=!1,b.estoyEnPaso2Adicionales=!1),b.mostrarModuloBase=!1,"autonomo"==b.valuation.segmento&&(b.esAutonomo=!0,b.mostrarVerCotizacion=!0),"desregulado"==b.valuation.segmento&&(b.esDesregulado=!0,b.mostrarVerCotizacion=!0),"monotributista"==b.valuation.segmento&&(b.esMonotributista=!0,b.mostrarVerCotizacion=!0),"grupo"==b.valuation.formaDeIngreso&&(b.esAfinidad=!0,b.afinidades.length>1||0==b.afinidades.length?(b.mostrarVerCotizacion=!1,b.mostrarModuloBase=!0,b.estoyEnPaso2=!1,b.estoyEnPaso2Adicionales=!1,b.faltaEmpresaOAfinidad=!0):(b.estoyEnPaso2=!0,b.estoyEnPaso2Adicionales=!1,b.faltaEmpresaOAfinidad=!1)),"empresa"==b.valuation.formaDeIngreso&&(b.esEmpresa=!0,(b.afinidades.length>1||0==b.afinidades.length)&&(b.mostrarVerCotizacion=!1,b.mostrarModuloBase=!0,b.estoyEnPaso2=!1,b.estoyEnPaso2Adicionales=!1,b.faltaEmpresaOAfinidad=!0),"individual"==b.valuation.formaDeIngreso&&(b.esIndividual=!0),"individual"!=b.valuation.formaDeIngreso||b.valuation.segmento!=Config.segments.autonomo&&"desregulado"!=segmento||(b.valuation.formaDePago==Config.wayToPay.cbu||b.valuation.formaDePago==Config.wayToPay.creditCard&&b.tarjeta.tarjeta_descripcion==Config.card.national)&&(b.afinidadId="723"),"empresa"==b.valuation.formaDeIngreso&&b.valuation.segmento==Config.segments.autonomo&&(b.formasDePago=[],b.formasDePago.push({forma_descripcion:"EMP",forma_id:"EMP"}))),b.verCotizacion=function(){"adicionales"==b.tipo?$("#cotizar-modal").modal("show"):$("#cotizacion-fin").modal("show")},b.noAdicional=function(){$("#no-adicionales").click(function(){$("#cotizacion-fin").modal("hide").on("hidden.bs.modal",function(a){$("#cotizar-modal").modal("show"),$(this).off("hidden.bs.modal")})})},b.siAdicional=function(){b.tipo="adicionales",b.mostrarTransferencia=!1,b.mostrarAdicionales=!0,b.mostrarModuloBase=!1,b.estoyEnPaso2=!1},b.valuation.resultadoAporteLegal=0,b.calcularAporteLegal=function(a){"Remuneración bruta"==b.valuation.aporteLegal&&(b.valuation.resultadoAporteLegal=.03*a),"Aporte obra social"==b.valuation.aporteLegal&&(b.valuation.resultadoAporteLegal=a/.03)}}}]),angular.module("sancorsaludApp").controller("NotificationCtrl",["$rootScope","$scope","$location","associatedPotentialService","UserAuth","utilsService",function(a,b,c,d,e,f){a.setActiveMenuPage("notificationsPromoter","Notificaciones"),a.hideFilterMenu(),a.showSearchMenu(),b.filterSearchedData=function(a){return""==b.filterText?!0:a.titulo.toLowerCase().indexOf(b.filterText.toLowerCase())>=0||a.texto.toLowerCase().indexOf(b.filterText.toLowerCase())>=0},b.filterText="";var g=function(){b.filterText=a.getSearchText()};f.registerObserverCallback(g,Config.events.onHeaderSearchTextChange),b.loadNotifications=function(){b.notificationList=[],b.notificationList=[{titulo:"EMMANUEL AUGUSTO 111111",texto:"CAMPOS",fecha:"2017-02-25T22:00:00.000Z",leido:!1},{titulo:"EMMANUEL AUGUSTO 22222",texto:"CAMPOS",fecha:"2017-02-25T22:00:00.000Z",leido:!1},{titulo:"EMMANUEL AUGUSTO 33333",texto:"CAMPOS",fecha:"2017-02-25T22:00:00.000Z",leido:!0},{titulo:"EMMANUEL AUGUSTO 444444",texto:"CAMPOS",fecha:"2017-02-25T22:00:00.000Z",leido:!0}]},b.loadNotifications(),f.registerObserverCallback(function(a){a==Config.publicPages.agenda&&b.loadAgenda()},Config.events.onHeaderNavigatePageChange),b.selectedNotification=null,b.setSelectedNotification=function(a){b.selectedNotification=a,$("#notification-modal").modal("show")},b.getDateDescription=function(a){return f.formatDateCompleteTextPlusTime(new Date(a))},b.getShortDateDescription=function(a){return f.getDateDescription(a)}}]),angular.module("sancorsaludApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/agenda.html",'<div class="bg-menu"></div> <section class="content agenda"> <div class="container"> <p ng-if="loading"><i class="fa fa-refresh fa-spin"></i> Cargando la lista de potenciales asociados agendados...</p> <p ng-if="!loading && Object.keys(associatedPotentialAssignedList).length == 0">No tienes ningun potencial agendado aún, por favor agenda alguno.</p> <div ng-repeat="(fecha, potentialList) in associatedPotentialAssignedList"> <div class="row"> <div class="col-md-1"> <div class="fecha">{{getDayDescription(fecha)}}<span> {{getMonthDescription(fecha)}}</span></div> </div> <div class="col-md-11"> <div class="item-list"> <div class="row"> <div class="col-xs-12"> <div ng-repeat="associatedPotential in potentialList | filter: filterSearchedData"> <article class="item" data-filter="{{getState(associatedPotential)}}"> <div class="item-text" data-modalnum="asignado1" ng-click="setSelectedAssociatedPotencial(associatedPotential)"> <div class="nombre">{{associatedPotential.nombre}} {{associatedPotential.apellido}}</div> <div class="datos">{{getDateDescription(associatedPotential.fecha_agenda)}}</div> <div class="descripcion">{{associatedPotential.direccion_encuentro}}</div> </div> <div class="item-icons"> <i ng-show="associatedPotential.dias_asig_ref<=1" class="material-icons error">report_problem</i> <button type="button" class="btn-cal" ng-click="openMapUrl(associatedPotential)"><i class="material-icons">place</i></button> </div> </article> </div> </div> </div> </div> </div> </div> </div> </div></section>'),a.put("views/assignedToPromoter.html",'<div class="bg-menu"></div> <section class="content"> <div class="container"> <div class="row"> <div class="col-md-12"> <div class="supervisor-mensaje">{{welcomeMessage}}</div> </div> <div class="col-md-12"> <div class="filtro"> <div class="sin-agendar"> <i class="material-icons">event_note</i>Sin agendar <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> <div class="entrevistados"> <i class="material-icons">assignment_turned_in</i>Agendados <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> <div class="cotizados"> <i class="material-icons">monetization_on</i>Cotizados <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> </div> <div class="item-list"> <div class="row"> <div class="col-xs-12"> <p ng-if="loading"><i class="fa fa-refresh fa-spin"></i> Cargando la lista de potenciales asociados asignados...</p> <p ng-if="!loading && associatedPotentialList.length == 0">No tienes ningun potencial asignado aún, por favor solicitale a tu supervisor.</p> <div ng-repeat="associatedPotential in associatedPotentialList | filter: filterSearchedData"> <article class="item" data-filter="{{getState(associatedPotential)}}"> <div class="item-text" data-modalnum="asignado1" ng-click="setSelectedAssociatedPotencial(associatedPotential)"> <div class="nombre">{{associatedPotential.nombre}} {{associatedPotential.apellido}}</div> <div class="datos">{{associatedPotential.edad}} años</div> <div class="descripcion"><span>{{getDetailsMessage(associatedPotential)}}</span></div> </div> <div class="item-icons"> <i ng-show="showIconWarningExpiredDate(associatedPotential)" class="material-icons error">report_problem</i> <button ng-show="showIconNotAgenda(associatedPotential)===true" type="button" class="btn-cal"><i class="material-icons">event_note</i></button> <button ng-show="showIconAgenda(associatedPotential)===true" type="button" class="btn-cal"><i class="material-icons">assignment_turned_in</i></button> <button ng-show="showIconValued(associatedPotential)===true" type="button" class="btn-cal"><i class="material-icons">monetization_on</i></button> </div> </article> </div> </div> </div> </div> </div> </div> </div> </section> <div id="asignado1" class="modal fade asignados" tabindex="-1"> <div class="modal-dialog"> <div class="modal-header"> <h3></h3> <button type="button" ng-if="modeEditActive===false" name="button" class="edit" ng-click="editAssociatedPotential()"><i class="material-icons">mode_edit</i></button> </div> <div class="modal-content"> <div class="modal-body" ng-if="modeEditActive"> <form action="#"> <div class="form-group label-floating"> <label for="fecha-nacimiento" class="control-label">Fecha de Nacimiento</label> <input type="date" max="{{today}}" ng-value="{{getDateDescription(selectedAssociatedPotencial.fecha_agenda)}}" class="form-control" id="fecha-nacimiento" name="fecha-nacimiento" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="cod-postal" class="control-label">Código Postal</label> <input type="text" class="form-control" id="cod-postal" ng-model="selectedAssociatedPotencial.perfil.cp" name="cod-postal"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="tel" class="control-label">Número de teléfono fijo</label> <input type="text" maxlength="30" class="form-control" id="tel" ng-model="selectedAssociatedPotencial.perfil.telefono" name="tel"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="cel" maxlength="30" class="control-label">Número de teléfono celular</label> <input type="text" class="form-control" id="cel" ng-model="selectedAssociatedPotencial.perfil.celular" name="cel"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="mail" class="control-label">Mail</label> <input type="mail" maxlength="100" class="form-control" id="mail" ng-model="selectedAssociatedPotencial.mail" name="mail" max="99999"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="street" class="control-label">Calle</label> <input type="text" maxlength="60" class="form-control" id="street" ng-model="selectedAssociatedPotencial.perfil.calle" name="street"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="door" class="control-label">Puerta</label> <input type="number" maxlength="5" class="form-control" id="door" ng-model="selectedAssociatedPotencial.perfil.puerta" max="99999" name="door"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="floor" class="control-label">Piso</label> <input type="number" maxlength="5" class="form-control" id="floor" ng-model="selectedAssociatedPotencial.perfil.piso" max="99999" name="floor"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="department" class="control-label">Departamento</label> <input type="text" maxlength="2" class="form-control" id="department" ng-model="selectedAssociatedPotencial.perfil.departamento" name="department"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="clearfix"></div> </form> <div class="botones"> <div>{{userMessage}}</div> <button class="btn modificar" ng-click="cancelEditAssociatedPotential()">Cancelar</button> <button class="btn modificar" ng-click="updateAssociatedPotential()">Aceptar</button> </div> </div> </div> <div class="modal-content" ng-if="modeEditActive===false"> <div class="modal-body"> <div class="item"> <div class="icono"><i class="material-icons">perm_contact_calendar</i></div> <p>{{getEdadDescription()}}<span>Edad</span></p> <div class="clearfix"></div> </div> <div class="item"> <div class="icono"><i class="material-icons">phone</i></div> <p>{{selectedAssociatedPotencial.perfil.celular}} <span>Móvil</span></p> <p>{{selectedAssociatedPotencial.perfil.telefono}} <span>Casa</span></p> <div class="clearfix"></div> </div> <div class="item"> <div class="icono"><i class="material-icons">email</i></div> <p>{{selectedAssociatedPotencial.perfil.mail}} <span>Personal</span></p> <div class="clearfix"></div> </div> <div class="item"> <div class="icono"><i class="material-icons">place</i></div> <p>{{selectedAssociatedPotencial.direccion}}<br> <span>Dirección</span></p> <div class="clearfix"></div> </div> <div ng-if="selectedAssociatedPotencial.perfil.cotizacion_temp!=undefined" class="item"> <div class="icono"><i class="material-icons">monetization_on</i></div> <p>{{selectedAssociatedPotencial.perfil.cotizacion_temp}}<br> <span>Cotización</span></p> <div class="clearfix"></div> </div> <form action="#"> <div class="icono"><i class="material-icons">event_note</i></div> <div class="form-group label-floating"> <label for="fecha-entrevista" class="control-label">Fecha de Entrevista</label> <input min="{{today}}" ng-value="{{getDateDescription(selectedAssociatedPotencial.fecha_agenda)}}" type="date" class="form-control" id="fecha-entrevista" name="fecha-entrevista" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="clearfix"></div> <div class="icono"><i class="material-icons">alarm</i></div> <div class="form-group label-floating"> <label for="hora-entrevista" class="control-label">Hora de Entrevista</label> <input ng-value="{{getTimeDescription(selectedAssociatedPotencial.fecha_agenda)}}" type="time" class="form-control" id="hora-entrevista" name="hora-entrevista" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="clearfix"></div> <div class="icono"><i class="material-icons">place</i></div> <div class="form-group label-floating"> <label for="direccion" class="control-label">Dirección de Entrevista</label> <input type="text" maxlength="200" ng-model="selectedAssociatedPotencial.direccion_encuentro" class="form-control" id="direccion" name="direccion" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="clearfix"></div> <div class="icono"><i class="material-icons">assignment</i></div> <div class="form-group label-floating"> <label for="notas" class="control-label">Notas</label> <input ng-model="selectedAssociatedPotencial.notas" type="text" maxlength="1000" class="form-control" id="notas" name="notas"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="clearfix"></div> </form> <div class="botones"> <div>{{userMessage}}</div> <button class="cerrar-caso btn" onclick="$(\'#close-dialog\').modal(\'show\')">Cerrar Caso</button> <button class="btn modificar" onclick="$(\'#asignado1\').modal(\'hide\');$(\'#cotizar\').modal(\'show\')" ng-if="!estaCotizado">Cotizar </button> <button class="btn ver-cotizacion" ng-if="estaCotizado">Ver Cotización <div class="ripple-container"></div> </button> <button class="btn modificar" ng-click="saveAssociatedPotentialAgenda()">Agendar</button> </div> </div> </div> </div> </div> <div id="asignado2" class="modal fade" tabindex="-1" role="dialog"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-body"> <p>Vas a cotizar para <strong>{{selectedAssociatedPotencial.nombre+\' \'+ selectedAssociatedPotencial.apellido}}</strong> </p> <div class="form-group label-floating"> <label for="plan-value" class="control-label">Plan</label> <input type="text" ng-model="valuation.plan" class="form-control" id="plan-value" name="plan-value" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="costo-value" class="control-label">Costo $</label> <input type="text" ng-model="valuation.value" class="form-control" id="costo-value" name="costo-value" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <button class="btn cotizar-ok" ng-click="valuedAssociatedPotential()">Aceptar</button> <button class="btn cerrar" onclick="$(\'#asignado2\').modal(\'hide\')">Cerrar </button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal --> <div id="cotizar" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="row"> <div class="col-sm-4"> <a ng-click="valuationClick()" class="btn" data-form="plan"><i class="material-icons">add_box</i></a> <p>Planes de salud</p> </div> <div class="col-sm-4"> <a ng-click="toAdicionales()" id="adicionales" class="btn" data-form="adicional"><i class="material-icons">playlist_add</i></a> <p>Adicionales optativos</p> </div> <div class="col-sm-4"> <a ng-click="cotizarManual()" id="manual" class="btn cotizar" data-form="manual"><i class="material-icons">mode_edit</i></a> <p>Cotización manual</p> </div> </div> </div> </div> <div id="close-dialog" class="modal fade" tabindex="-1" style=""> <div class="modal-content"> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <p>Indica un motivo por el cual desea cerrar el caso:</p> <div class="form-group label-floating"> <form action="#"> <select class="form-control" name="motive" id="motive" ng-model="selectedAssociatedPotencial.motive" required> <option value="">--Select--</option> <option ng-repeat="option in motives" value="{{option.id}}">{{option.motivo}}</option> </select> </form> <button class="btn cerrar" onclick="$(\'#close-dialog\').modal(\'toggle\')">Cancelar</button> <button class="btn cerrar" ng-click="closeAssociatedPotential()">Confirmar</button> </div> </div> </div> </div> </div> </div> <script>jQuery(function ($) {\n    var $inputs = $(\'input[name=tel],input[name=cel]\');\n    $inputs.on(\'input\', function () {\n      // Sets the required property of the other input to false if this input is not empty.\n      $inputs.not(this).prop(\'required\', !$(this).val().length);\n    });\n  });</script>'),
a.put("views/login.html",'<section class="login"> <form class="login"> <img src="images/logo.299832aa.png" alt="" class="logo"> <div class="form-group label-floating"> <label for="user" class="control-label">Usuario</label> <input type="text" class="form-control" id="user" ng-model="userData.username" name="user" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="pass" class="control-label">Contraseña</label> <input type="password" class="form-control" id="pass" name="pass" ng-model="userData.password" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <button class="btn" ng-click="doLogin()">Ingresar</button> <div class="clearfix">{{message}}</div> </form> </section>'),a.put("views/newAssociatedPotential.html",'<div class="bg-menu"></div> <section class="cargar content"> <div class="container"> <div class="row"> <div class="col-md-12"> <form id="supervisor-cargar"> <div class="form-group label-floating"> <label for="name" class="control-label">Nombre</label> <input type="text" maxlength="100" class="form-control" id="name" ng-model="newAssociatedPotential.nombre" name="name" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="lastName" class="control-label">Apellido</label> <input type="text" maxlength="50" class="form-control" id="lastName" ng-model="newAssociatedPotential.apellido" name="apellido" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="dni" class="control-label">DNI</label> <input type="number" class="form-control" maxlength="8" ng-change="validateDocumentNumber()" id="dni" ng-model="newAssociatedPotential.dni" max="99999999" name="dni" required> <span class="help"><b>{{documentNumberValidationMessage}}</b></span> </div> <div class="form-group label-floating"> <label for="fecha-nacimiento" class="control-label">Fecha de Nacimiento</label> <input type="date" class="form-control" id="fecha-nacimiento" ng-model="newAssociatedPotential.fecha_nac" name="fecha-nacimiento"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="cod-postal" class="control-label">Código Postal</label> <input type="text" maxlength="5" class="form-control" id="cod-postal" ng-model="newAssociatedPotential.cp" name="cod-postal"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="tel" class="control-label">Número de teléfono fijo</label> <input type="text" maxlength="30" class="form-control" id="tel" ng-model="newAssociatedPotential.tel" name="tel" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="cel" class="control-label">Número de teléfono celular</label> <input type="text" maxlength="30" class="form-control" id="cel" ng-model="newAssociatedPotential.cel" name="cel" required> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="mail" class="control-label">Mail</label> <input type="mail" maxlength="100" class="form-control" id="mail" ng-model="newAssociatedPotential.mail" name="mail" max="99999"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating" ng-if="isSupervisorRole===true"> <label for="zone" class="control-label">Zona</label> <select class="form-control" name="zone" id="zone" ng-model="newAssociatedPotential.nro_zona"> <option value="">--Select--</option> <option ng-repeat="option in zones" value="{{option.zona_id}}">{{option.descripcion_zona}}</option> </select> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="street" class="control-label">Calle</label> <input type="text" maxlength="60" class="form-control" id="street" ng-model="newAssociatedPotential.calle" name="street"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="door" class="control-label">Nro</label> <input type="number" maxlength="5" class="form-control" id="door" ng-model="newAssociatedPotential.puerta" max="99999" name="door"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="floor" class="control-label">Piso</label> <input type="number" maxlength="5" class="form-control" id="floor" ng-model="newAssociatedPotential.piso" max="99999" name="floor"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="department" class="control-label">Departamento</label> <input type="text" maxlength="2" class="form-control" id="department" ng-model="newAssociatedPotential.departamento" name="department"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="company" class="control-label">Es Empresa</label> <input type="checkbox" class="form-control" id="company" ng-model="newAssociatedPotential.es_empresa_boolean" name="company"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="comment" class="control-label">Comentario</label> <input type="text" maxlength="1000" class="form-control" id="comment" ng-model="newAssociatedPotential.comentario" name="comment"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <button type="submit" class="btn btn-enviar">Cargar</button> </form> </div> </div> </div> </section> <div id="message-dialog" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <p>{{userMessage}}</p> </div> </div> </div> </div> <div id="form-dialog" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <p>Vas a cargar como potencial asociado a</p> <p class="nombre" style="font-weight:800"></p> <p class="dni"></p> <p class="fecha-nacimiento"></p> <p class="cod-postal"></p> <p class="tel"></p> <p class="cel"></p> <p class="mail"></p> <div class="botones"> <div class="btn cerrar">cancelar</div> <div ng-click="createAssociatedPotential()" class="btn enviar">aceptar</div> </div> </div> </div> </div> </div> <script>jQuery( function( $ ) {\n    var $inputs = $( \'input[name=tel],input[name=cel]\' );\n    $inputs.on( \'input\', function() {\n      // Sets the required property of the other input to false if this input is not empty.\n      $inputs.not( this ).prop( \'required\', !$( this ).val().length );\n    } );\n  } );</script>'),a.put("views/notification.html",'<div class="bg-menu"></div> <section id="notificaciones" class="content"> <div class="container"> <div class="row"> <div class="col-md-12"> <div class="filtro"> <div class="sin-agendar"> <i class="material-icons">event_note</i>Sin agendar <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> <div class="entrevistados"> <i class="material-icons">assignment_turned_in</i>Entrevistados <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> <div class="cotizados"> <i class="material-icons">monetization_on</i>Cotizados <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> </div> <div class="item-list"> <div class="row"> <div class="col-xs-12"> <p ng-if="loading"><i class="fa fa-refresh fa-spin"></i> Cargando la lista de notificaciones...</p> <p ng-if="!loading && associatedPotentialList.length == 0">No tienes ninguna notificación.</p> <div ng-repeat="item in notificationList | filter: filterSearchedData"> <article class="item {{(item.leido) ? \'read\' : \'\'}}"> <div class="item-text" ng-click="setSelectedNotification(item)"> <div class="nombre">{{item.titulo}}</div> <div class="descripcion">{{item.texto}}</div> </div> <div class="item-icons"> <p>{{getShortDateDescription(item.fecha)}}</p> </div> </article> </div> </div> </div> </div> </div> </div> </div> </section> <div id="notification-modal" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h4 class="modal-title">{{selectedNotification .titulo}}</h4> </div> <div class="modal-body"> <p>{{selectedNotification.autor}} - {{selectedNotification.rol}}</p> <p class="fecha">{{getDateDescription(selectedNotification.fecha)}}</p> <p>{{selectedNotification.texto}}</p> <p class="integrante"></p> <a class="btn btn-int cerrar" onclick="$(\'#notification-modal\').modal(\'hide\')">Cerrar</a> <div class="clearfix"></div> </div> </div> </div> </div>'),a.put("views/promoterlist.html",'<div class="bg-menu"></div> <section class="content"> <div class="container"> <div class="row"> <div class="col-md-12"> <div class="filtro"> <div class="sin-agendar"> <i class="material-icons">event_note</i>Sin agendar <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> <div class="entrevistados"> <i class="material-icons">assignment_turned_in</i>Entrevistados <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> <div class="cotizados"> <i class="material-icons">monetization_on</i>Cotizados <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> </div> <div class="item-list" id="lista"> <div class="row"> <div class="col-xs-12"> <p ng-if="loading"><i class="fa fa-refresh fa-spin"></i> Cargando la lista de asesores...</p> <p ng-if="!loading && promoterList.length == 0">No hay ningún asesor.</p> <div ng-repeat="promoter in promoterList | filter: filterSearchedData"> <article class="item"> <div class="column col-xs-10"> <div class="row"> <div class="item-text"> <div class="nombre">{{promoter.nombre}} {{promoter.apellido}}</div> {{promoter.descripcion}} </div> </div> </div> <div class="column col-xs-2"> <div class="row"> Asignados <div class="badge-notification" title="Asignados">{{promoter.pot_asignados}}</div> </div> <div class="row"> Históricos <div class="badge-notification blue" title="Históricos">{{promoter.pot_historica}}</div> </div> </div> </article> </div> </div> </div> </div> </div> </div> </div> </section>'),a.put("views/templates/associatedDataTemplate.html",'<div id="associatedPotentialDataModal" class="modal fade asignados" tabindex="-1"> <div class="modal-dialog"> <div class="modal-header"> <h3>{{associatedPotential.nombre}} {{associatedPotential.apellido}}</h3> <button type="button" name="button" data-dismiss="modal" class="edit"><i class="material-icons">close</i></button> </div> <div class="modal-content"> <div class="modal-body"> <div class="item"> <div class="icono"><i class="material-icons">perm_contact_calendar</i></div> <p>{{associatedPotential.edad}}<span>Edad</span></p> <div class="clearfix"></div> </div> <div class="item"> <div class="icono"><i class="material-icons">phone</i></div> <p>{{associatedPotential.perfil.celular}} <span>Móvil</span></p> <p>{{associatedPotential.perfil.telefono}} <span>Casa</span></p> <div class="clearfix"></div> </div> <div class="item"> <div class="icono"><i class="material-icons">email</i></div> <p>{{associatedPotential.perfil.mail}} <span>Personal</span></p> <div class="clearfix"></div> </div> <div class="item"> <div class="icono"><i class="material-icons">place</i></div> <p>{{associatedPotential.perfil.calle}}<br> <span>Dirección</span></p> <div class="clearfix"></div> </div> <div ng-if="associatedPotential.perfil.cotizacion_temp!=undefined" class="item"> <div class="icono"><i class="material-icons">monetization_on</i></div> <p>{{associatedPotential.perfil.cotizacion_temp}}<br> <span>Cotización</span></p> <div class="clearfix"></div> </div> </div> </div> </div> </div>'),a.put("views/templates/headerTemplate.html",'<div class="header"> <nav class="menu"> <div class="head"> <img src="images/logo.299832aa.png" alt=""> <h3 class="name">{{username}}</h3> </div> <ul ng-show="showSupervisorMenu"> <li id="toBeAssignedMenu" ng-click="reload(getPublicPages().toBeAssigned)" class="active"><a style="display: inline-block" href="#{{getPublicPages().toBeAssigned}}"><i class="material-icons">check_box</i>Asignaciones</a> <div class="badge-notification">{{notifications.assignedCount}}</div> <div class="badge-notification blue">{{notifications.pendingCount}}</div> </li> <li id="newAssociatedPotentialSupervisorMenu"><a href="#{{getPublicPages().newAssociatedPotential}}"><i class="material-icons">person_add</i>Cargar potencial asociado</a> </li> <li id="promoterListMenu" ng-click="reload(getPublicPages().promoterList)"><a href="#{{getPublicPages().promoterList}}"><i class="material-icons">group</i>Asesores Comerciales</a> </li> <li style="display: none" id="logoutMenu"><a href="#"><i class="material-icons">assignment</i>Reportes</a></li> <li style="display: none" id="logoutMenu"><a href="#"><i class="material-icons">list</i>Motivos de eliminación</a></li> <li style="display: none" id="logoutMenu"><a href="#"><i class="material-icons">monetization_on</i>Cotización manual</a></li> <li id="logoutMenu"><a href="#" ng-click="logout()"><i class="material-icons">exit_to_app</i>Salir</a></li> </ul> <ul ng-show="showPromoterMenu"> <li id="assignedToPromoterMenu" ng-click="reload(getPublicPages().assignedToPromoter)" class="active"><a style="display: inline-block" href="#{{getPublicPages().assignedToPromoter}}"><i class="material-icons">check_box</i>Asignados</a> <div class="badge-notification">{{notifications.pendingCount}}</div> </li> <li id="newAssociatedPotentialPromoterMenu"><a href="#{{getPublicPages().newAssociatedPotential}}"><i class="material-icons">person_add</i>Cargar potencial asociado</a> </li> <li id="agendaMenu" ng-click="reload(getPublicPages().agenda)"><a href="#{{getPublicPages().agenda}}"><i class="material-icons">event_note</i>Agenda</a></li> <li id="additionalPromoterMenu"><a href="#{{getPublicPages().onlyAdditional}}/solo-adicionales"><i class="material-icons">playlist_add</i>Cotizar adicionales optativos</a></li> <li id="transferPromoterMenu"><a href="#{{getPublicPages().transfer}}/transferencia"><i class="material-icons">swap_vertical_circle</i>Transferencia de segmento</a></li> <li id="notificationsPromoterMenu"><a href="#{{getPublicPages().notifications}}"><i class="material-icons">announcement</i>Notificaciones</a></li> <li id="logoutMenu"><a href="#" ng-click="logout()"><i class="material-icons">exit_to_app</i>Salir</a></li> </ul> <ul ng-show="showDataEntryMenu"> <li id="newAssociatedPotentialDataEntryMenu"><a href="#{{getPublicPages().newAssociatedPotential}}"><i class="material-icons">person_add</i>Cargar potencial asociado</a></li> <li id="logoutMenu"><a href="#" ng-click="logout()"><i class="material-icons">exit_to_app</i>Salir</a></li> </ul> </nav> <button type="button" name="button" class="btn btn-menu btn-nav"><i class="material-icons">menu</i> <h3>{{page}}</h3></button> <button type="button" name="button" class="btn btn-menu btn-search"><i class="material-icons">arrow_back</i> <h3>Volver</h3></button> <button type="button" name="button" class="btn btn-menu btn-back blanco" style="display: none"><i class="material-icons">arrow_back</i> <h3>Asignaciones</h3> <div class="ripple-container"> <div class="ripple ripple-on ripple-out" style="left: 41px; top: 23px; background-color: rgba(0, 0, 0, 0.870588); transform: scale(26.625)"></div> </div> </button> <div class="container"> <div class="row"> <div class="col-md-12"> <form class="search" ng-if="isSearchMenuVisible"> <button type="button" name="button" ng-click="doLogin()" class="btn hidden-xs"><i class="material-icons">search</i> </button> <input type="text" ng-change="changeSearchText(searchText)" placeholder="Buscar" ng-model="searchText" class="hidden-xs"> <input type="text" ng-change="changeSearchText(searchText)" placeholder="Buscar" ng-model="searchText" class="smart visible-xs"> </form> <div class="filtros"> <button ng-if="isFilterMenuVisible" type="button" name="button" class="btn btn-filter dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i class="material-icons">more_vert</i> <div class="ripple-container"></div> </button> <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"> <li><a id="sin-agendar" href="#"><i class="material-icons">event_note</i>Sin agendar <div class="ripple-container"></div> </a></li> <li><a id="entrevistados" href="#"><i class="material-icons">assignment_turned_in</i>Agendados</a></li> <li><a id="cotizados" href="#"><i class="material-icons">monetization_on</i>Cotizados</a></li> </ul> </div> </div> </div> </div> <button type="button" name="button" class="btn smart-search visible-xs"><i class="material-icons">search</i></button> <div class="user hidden-xs"> <i class="material-icons">account_circle</i> <div class="name" title="{{username}}">{{ username | limitTo: 12 }}{{username.length > 12 ? \'...\' : \'\'}}</div> </div> </div>'),a.put("views/toBeAssigned.html",'<div class="bg-menu"></div> <div id="confirmar"> <i class="material-icons step1">check</i> <i class="material-icons step2" style="display:none">check</i> </div> <section class="content"> <div class="container"> <div class="row"> <div class="col-md-12"> <div class="supervisor-mensaje"> </div> </div> <div class="col-md-12"> <div class="filtro"> <div class="sin-agendar"> <i class="material-icons">event_note</i>Sin agendar <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> <div class="entrevistados"> <i class="material-icons">assignment_turned_in</i>Entrevistados <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> <div class="cotizados"> <i class="material-icons">monetization_on</i>Cotizados <div class="cerrar">Limpiar filtro <i class="material-icons">close</i> </div> </div> </div> <div class="item-list" id="lista"> <div class="row"> <div class="col-xs-12"> <p ng-if="loading===true"><i class="fa fa-refresh fa-spin"></i> Cargando lista de potenciales asociados... </p> <p ng-if="loading===false && associatedPotentialList.length == 0">No tienes ningun potencial asociado para asignar</p> <div ng-repeat="associatedPotential in associatedPotentialList | filter: filterSearchedData"> <article class="item" data-filter="{{getState(associatedPotential)}}" ng-click="showAssociatedPotentialDataModal(associatedPotential)"> <div class="checkbox"> <input ng-if="isAssigned(associatedPotential)===false" type="checkbox" name="asignar[]" value="{{associatedPotential.potencial_id}}" id="check{{associatedPotential.potencial_id}}"> <input ng-if="isAssigned(associatedPotential)===true" type="checkbox" name="asignar[]" value="{{associatedPotential.potencial_id}}" id="check{{associatedPotential.potencial_id}}" checked disabled> <label style="font-size: 22px" for="check{{associatedPotential.potencial_id}}"></label> </div> <div class="item-text" data-modalnum="asignado1"> <div class="nombre">{{associatedPotential.nombre}} {{associatedPotential.apellido}}</div> <div class="datos">{{associatedPotential.edad}} años</div> <div class="descripcion"><span>{{getDateToExpireMessage(associatedPotential)}}</span></div> </div> <div class="item-icons"> <!-- <i class="material-icons error">report_problem</i> --> <button ng-if="isAssigned(associatedPotential)===false" type="button" class="btn-cal"><i class="material-icons error">flag</i></button> </div> </article> </div> </div> </div> </div> <div id="lista-promotor" class="item-list"> <div ng-repeat="promoter in promoterList"> <article class="item"> <div class="column col-xs-10"> <div class="row"> <div class="column col-xs-1"> <div class=""> <input type="radio" name="usuario" value="{{promoter.nombre}} {{promoter.apellido}}" id="check-promotor{{promoter.promotor_id}}" data-name="{{promoter.nombre}} {{promoter.apellido}}"> <label for="check-promotor{{promoter.promotor_id}}"></label> </div> </div> <div class="column col-xs-11"> <div class="item-text"> <div class="nombre">{{promoter.nombre}} {{promoter.apellido}}</div> {{promoter.descripcion}} </div> </div> </div> </div> <div class="column col-xs-2"> <div class="row"> Asignados <div class="badge-notification" title="Asignados">{{promoter.pot_asignados}}</div> </div> <div class="row"> Históricos <div class="badge-notification blue" title="Históricos">{{promoter.pot_historica}}</div> </div> </div> </article> </div> </div> </div> </div> </div> </section> <div id="asignar" class="modal fade asignados" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <p>Vas a cotizar para <span class="name"></span></p> <button class="btn cotizar-ok" ng-click="assignAssociatedPotentials()">Aceptar</button> <button class="btn cerrar" onclick="$(\'#asignar\').modal(\'toggle\')">Cancelar</button> <div class="clearfix"></div> </div> </div> </div> </div> <associated-data associated="selectedAssociatedPotencial"></associated-data>'),a.put("views/valuation.html",'<div class="bg-menu"></div> <section id="cotizar" class="cargar content"> <div class="container"> <div class="row"> <div class="col-md-12"> <div class="qr visible-xs"> <div class="btn btn-qr">LEER CÓDIGO QR</div> </div> <form action="#" onsubmit="return false"> <div id="plan" ng-show="mostrarModuloBase"> <div class="form-group label-floating"> <label for="name" class="control-label">Nombre</label> <input type="text" ng-value="valuation.potential.nombre+\n              \' \'+valuation.potential.apellido" class="form-control" id="name" name="name" readonly> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="dni" class="control-label">DNI</label> <input type="text" ng-value="valuation.potential.dni" class="form-control" id="dni" name="dni" readonly> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="fecha-nacimiento" class="control-label">Fecha de Nacimiento</label> <input type="text" ng-value="valuation.potential.fecha_nac" class="form-control" id="fecha-nacimiento" name="fecha-nacimiento" readonly> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="cod-postal" class="control-label">Código Postal</label> <input type="text" ng-value="valuation.potential.perfil.cp" class="form-control" id="cod-postal" name="cod-postal" readonly> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating select-group"> <select class="cobertura" name="cobertura" ng-model="valuation.cobertura" required> <option value="" selected>Cobertura proveniente</option> <option ng-repeat="option in coberturas" value="{{option.codigo_os}}">{{option.nombre_os}} ({{option.codigo_os}}) </option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating select-group"> <select class="cat" name="cat" ng-model="valuation.cat" required> <option value="">Categoría</option> <option value="adherente">Adherente</option> <option value="activo">Activo</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating select-group"> <select class="iva" name="iva" ng-model="valuation.iva" required> <option value="">Condición frente al IVA</option> <option value="consumidor final">Consumidor final</option> <option value="responsable inscripto">Responsable Inscripto</option> <option value="monotributo">Monotributo</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating select-group"> <select class="segmento" name="segmento" ng-model="valuation.segmento" required> <option value="">Segmento</option> <option value="autonomo">Autónomo</option> <option value="desregulado">Desregulado</option> <option value="monotributista">Monotributista</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating select-group"> <select class="ingreso" name="ingreso" ng-model="valuation.formaDeIngreso" required> <option value="">Forma de ingreso</option> <option value="individual">Individual</option> <option value="empresa">Empresa</option> <option value="grupo">Grupo Afinidad</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div ng-show="valuation.formaDeIngreso == \'grupo\'" class="form-group label-floating numero-ingreso"> <label for="numero-grupo" class="control-label">Número o nombre de afinidad</label> <input ng-model="valuation.afinidad" type="text" class="form-control" id="numero-grupo" name="numero-grupo" ng-change="buscarAfinidades()"> <span class="" ng-show="valuation.formaDeIngreso == \'grupo\' && faltaEmpresaOAfinidad">Ingresar afinidad correcta</span> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div ng-show="valuation.formaDeIngreso == \'empresa\'" class="form-group label-floating numero-ingreso"> <label for="numero-empresa" class="control-label">Número o nombre de empresa</label> <div class="ui-widget"> <input ng-model="valuation.empresa" type="text" class="form-control" id="numero-empresa" name="numero-empresa" ng-change="buscarEmpresas()"> <span class="" ng-show="valuation.formaDeIngreso == \'empresa\' && faltaEmpresaOAfinidad">Ingresar empresa correcta</span> </div> <span class="help-block">{{leyendaEmpresaNoExistente}}</span> <span class="" ng-show="empresas.length==1">{{empresas[0].empresa_leyenda}}</span> </div> <span>{{empresa.empresa_leyenda}}</span> <div class="divisor"> Datos de integrantes: </div> <div id="integrantes-nuevos" ng-repeat="x in valuation.members"> <div id="int1" class="int-nuevo"> <i class="material-icons">person</i> <p>{{x.parentesco}}, {{x.edad}} años, DNI {{x.dni}}</p> <div ng-click="deleteMember($index)"><i class="material-icons" style="position: absolute;right: 0px; cursor:hand">delete</i> </div> <div class="clearfix"></div> </div> </div> <!-- <div class="int-nuevo">\n            <i class="material-icons">person</i><p>Cónyuge, 36 años, DNI 26.567.850</p>\n            <div class="cerrar"></div>\n            <div class="clearfix"></div>\n          </div> --> <div class="form-group label-floating select-group"> <select class="parent" name="parentesco" ng-model="newMember.parentesco"> <option value="">Parentesco</option> <option ng-repeat="option in parentescos" value="{{option.id}}">{{option.descripcion}} ({{option.id}}) </option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating"> <label for="edad" class="control-label">Edad</label> <input type="number" class="form-control" id="edad" name="edad" ng-model="newMember.edad"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="dni-int" class="control-label">DNI</label> <input type="text" class="form-control" id="dni-int" name="dni-int" ng-model="newMember.dni"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <button id="sumar-integrante" ng-click="abrirModalIntegrante()" type="button" name="button" class="btn btn-int">SUMAR INTEGRANTE </button> <div class="clearfix"></div> </div> <!-- PASO 2 --> <div id="step-2" ng-show="estoyEnPaso2"> <div class="form-header"> <i class="material-icons">add_box</i> Planes de Salud </div> <div id="ingreso"> <div class="form-group label-floating select-group individual empresa grupo"> <select class="pago" name="pago" ng-model="valuation.formaDePago" ng-change="onFormaDePagoChange()"> <option value="">Forma de pago</option> <option ng-repeat="forma in formasDePago" value="{{forma.forma_id}}">{{forma.forma_descripcion}} </option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div ng-show="tarjetaEsVisible" class="form-group label-floating select-group individual grupo"> <select id="tarjeta" name="tarjeta" ng-model="tarjeta"> <option value="">Tarjeta</option> <option ng-repeat="t in tarjetas" value="{{t.tarjeta_id}}">{{t.tarjeta_tipo}}</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div ng-show="bancoEsVisible" class="form-group label-floating individual select-group"> <select id="banco" name="banco"> <option value="">Banco</option> <option ng-repeat="banco in bancos" value="{{banco.banco_id}}">{{banco.banco_descripcion}}</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> <!-- <input type="text" class="form-control" id="banco" name="banco" disabled> --> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group individual empresa grupo"> <div class="checkbox form-inline"> <label class="control-label">Copagos</label> <div class="form-group individual empresa grupo"> <input type="radio" name="usuario" value="1" id="con"> <label for="con">Con</label> </div> <div class="form-group individual empresa grupo"> <input type="radio" name="usuario" value="1" id="sin"> <label for="sin">Sin</label> </div> </div> <div class="clearfix"></div> </div> <div class="form-group empresa" ng-show="false"> <p class="empresa">Cotización con convenio pendiente de firma<br> o tambíen puede ser Cotización con convenio firmado</p> </div> </div> <!-- Bloque Desregulado --> <div id="desregulado" ng-show="esDesregulado"> <div class="form-group label-floating select-group"> <select class="calculo" name="calculo" ng-model="valuation.aporteLegal"> <option value="">Cálculo del aporte legal</option> <option value="Aporte obra social">Aporte obra social</option> <option value="Remuneración bruta">Remuneración bruta</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating"> <label for="monto" class="control-label">Monto $</label> <input type="number" class="form-control" id="monto" name="monto" ng-model="monto" ng-change="calcularAporteLegal(monto)"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating calc" ng-if="valuation.aporteLegal == \'Remuneración bruta\'"> <label for="calc-remuneracion" class="control-label calc-remuneracion">Remuneración bruta</label> <input type="text" class="form-control calc-remuneracion" id="calc-remuneracion" name="calc-remuneracion" value="${{valuation.resultadoAporteLegal}}" disabled> </div> <div class="form-group label-floating calc" ng-if="valuation.aporteLegal == \'Aporte obra social\'"> <label for="calc-aporte" class="control-label calc-aporte">Aporte obra social</label> <input type="text" class="form-control calc-aporte" id="calc-aporte" name="calc-aporte" value="${{valuation.resultadoAporteLegal}}" disabled> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating select-group"> <select class="obra-desregula" name="obra-desregula"> <option value="">Obra social por la que desregula</option> <option value="ASE">ASE</option> <option value="OSPERSAAMS">OSPERSAAMS</option> <option value="OSCONARA">OSCONARA</option> <option value="OSMB">OSMB</option> <option value="OSIM">OSIM</option> <option value="OSME">OSME</option> <option value="OSUTI">OSUTI</option> <option value="OSSACRA">OSSACRA</option> <option value="OSJERA">OSJERA</option> <option value="OSEADI">OSEADI</option> <option value="OSTVLA">OSTVLA</option> <option value="OSTELEF">OSTELEF</option> <option value="OSDEPYM">OSDEPYM</option> <option value="OSHOPE">OSHOPE</option> <option value="OSMEDICA">OSMEDICA</option> <option value="OSCERAMISTA">OSCERAMISTA</option> <option value="OSPAT">OSPAT</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group"> <div class="checkbox form-inline"> <label class="control-label">Precibe otra remuneración</label> <div class="form-group"> <input type="radio" name="otra-remuneracion" value="1" id="otra-remuneracion-si"> <label for="otra-remuneracion-si">Si</label> </div> <div class="form-group"> <input type="radio" name="otra-remuneracion" value="1" id="otra-remuneracion-no" checked> <label for="otra-remuneracion-no">No</label> </div> </div> <div class="clearfix"></div> </div> <div class="form-group"> <div class="checkbox form-inline"> <label class="control-label">Aporta a Monotributo</label> <div class="form-group"> <input type="radio" name="aporta-monotributo" value="1" id="aporta-monotributo-si"> <label for="aporta-monotributo-si">Si</label> </div> <div class="form-group"> <input type="radio" name="aporta-monotributo" value="1" id="aporta-monotributo-no" checked> <label for="aporta-monotributo-no">No</label> </div> </div> <div class="clearfix"></div> </div> <div class="form-group"> <div class="checkbox form-inline"> <label class="control-label">Unifica aportes</label> <div class="form-group"> <input type="radio" name="unifica-aportes" value="1" id="unifica-aportes-si"> <label for="unifica-aportes-si">Si</label> </div> <div class="form-group"> <input type="radio" name="unifica-aportes" value="1" id="unifica-aportes-no"> <label for="unifica-aportes-no">No</label> </div> </div> <div class="clearfix"></div> </div> <div class="divisor"> Datos del cónyuge: </div> <div class="form-group label-floating"> <label for="conyuge-dni" class="control-label">DNI</label> <input type="text" class="form-control" id="conyuge-dni" name="conyuge-dni"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating select-group"> <select class="tipo-unificacion" name="tipo-unificacion"> <option value="">Tipo de unificación</option> <option value="Titular nuevo con conyuge nuevo">Titular nuevo con conyuge nuevo</option> <option value="Titular nuevo con conyuge asociado">Titular nuevo con conyuge asociado</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating select-group"> <select class="conyuge-segmento" name="conyuge-segmento"> <option value="">Segmento</option> <option value="Desregulado">Desregulado</option> <option value="Monotributista">Monotributista</option> <option value="Empleada dómestica">Empleada doméstica</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating select-group"> <select class="conyuge-calculo" name="conyuge-calculo"> <option value="">Cálculo de aporte legal</option> <option value="Desregulado">Aporte obra social</option> <option value="Remuneración bruta">Remuneración bruta</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating"> <label for="conyuge-monto" class="control-label">Monto $</label> <input type="number" class="form-control" id="conyuge-monto" name="conyuge-monto"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating select-group"> <select class="conyuge-obra" name="conyuge-obra"> <option value="">Obra social por la que desregula</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="divisor"> Familiares a cargo: </div> <div class="int-nuevo" ng-repeat="x in valuation.members"> <i class="material-icons">person</i> <p>{{x.parentesco}}, {{x.edad}} años</p> <div class="checkbox"> <input type="checkbox" name="familiar-nuevo[]" value="1" id="familiar1"> <label for="familiar1"></label> </div> <div class="clearfix"></div> </div> <div class="form-group label-floating"> <label for="familiar-monto" class="control-label">Monto $</label> <input type="number" class="form-control" id="familiar-monto" name="familiar-monto"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> </div> <!-- END BLOQUE DESREGULADO --> <!-- BLOQUE MONOTRIBUTO --> <div id="monotributo" ng-show="esMonotributista"> <div class="form-group label-floating select-group"> <select class="aportantes" name="aportantes"> <option value="">Aportantes del grupo</option> <option value="Igual al número de integrantes">Igual al número de integrantes</option> <option value="Menor al número de integrantes">Menor al número de integrantes</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating"> <label class="control-label" style="font-size:16px">IMPORTANTE<br>No incluir el aporta del cónyuge en caso que unifique aportes</label> </div> <div class="form-group label-floating"> <label for="integrantes-aporta" class="control-label">Integrantes por los que aporta</label> <input type="number" class="form-control" id="integrantes-aporta" name="integrantes-aporta"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group"> <div class="checkbox form-inline"> <label class="control-label">Unificar aportes</label> <div class="form-group"> <input type="radio" name="unifica-aportes-monotributo" value="1" id="unifica-aportes-monotributo-si"> <label for="unifica-aportes-monotributo-si">Si</label> </div> <div class="form-group"> <input type="radio" name="unifica-aportes-monotributo" value="1" id="unifica-aportes-monotributo-no"> <label for="unifica-aportes-monotributo-no">No</label> </div> </div> <div class="form-group label-floating"> <label for="monotributo-dni" class="control-label">DNI</label> <input type="text" class="form-control" id="monotributo-dni" name="monotributo-dni"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating select-group"> <select class="tipo-unificacion" name="tipo-unificacion"> <option value="">Tipo de unificación</option> <option value="Titular nuevo con cónyuge nuevo">Titular nuevo con cónyuge nuevo</option> <option value="Titular nuevo con cónyuge asociado">Titular nuevo con cónyuge asociado</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> </div> <div class="form-group label-floating select-group"> <select class="segmento-monotributo" name="segmento-monotributo"> <option value="">Segmento</option> <option value="Desregulado">Desregulado</option> <option value="Monotributista">Monotributista</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="clearfix"></div> </div> <!-- END BLOQUE MONOTRIBUTO --> </div> <!-- ADICIONALES --> <div id="adicional" ng-show="mostrarAdicionales"> <div class="form-header"> <i class="material-icons">playlist_add</i> Adicionales optativos </div> <div class="step-1" ng-show="!estoyEnPaso2Adicionales"> <div class="form-group label-floating"> <label for="solo-adicional-dni" class="control-label">DNI</label> <input type="text" class="form-control" id="solo-adicional-dni" name="solo-adicional-dni"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="solo-adicional-nombre" class="control-label">Nombre</label> <input type="text" class="form-control" id="solo-adicional-nombre" name="solo-adicional-nombre"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="solo-adicional-edad" class="control-label">Edad</label> <input type="text" class="form-control" id="solo-adicional-edad" name="solo-adicional-edad"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="solo-adicional-codigo-postal" class="control-label">Código postal</label> <input type="text" class="form-control" id="solo-adicional-codigo-postal" name="solo-adicional-codigo-postal"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="solo-adicional-fecha-inicio" class="control-label">Fecha de inicio del servicio</label> <input type="text" class="form-control" id="solo-adicional-fecha-inicio" name="solo-adicional-fecha-inicio"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="form-group label-floating"> <label for="solo-adicional-categoria" class="control-label">Categoría</label> <input type="text" class="form-control" id="solo-adicional-categoria" name="solo-adicional-categoria"> <!-- <span class="help-block">This is a hint as a <code>span.help-block.hint</code></span> --> </div> <div class="divisor">Integrantes</div> <div class="int-nuevo" ng-repeat="integrante in valuation.members"> <i class="material-icons">person</i> <p>Juliana Di Tello, {{integrante.paretesco}}, {{integrante.edad}} años</p> <div class="cerrar"></div> <div class="clearfix"></div> </div> <div class="form-group label-floating"> <label for="solo-adicional-pago" class="control-label">Forma de pago</label> <input type="text" class="form-control" id="solo-adicional-pago" name="solo-adicional-pago" value="Tarjeta de crédito, Banco Francés" ng-if="estaActivo == false"> <input type="text" class="form-control" id="solo-adicional-pago2" name="solo-adicional-pago" value="En caso de que desee modificar la forma de pago, el asociado deberá acercarse a nuestros CARs bien o llamar al CALL CENTER" ng-if="estaActivo == true" ng-disabled="true == true"> </div> <div class="form-group label-floating"> <label for="solo-adicional-categoria" class="control-label">Valor del plan de salud activo</label> <input type="text" class="form-control" id="solo-adicional-categoria" name="solo-adicional-categoria" value="SanCor 2000 - $3580"> </div> </div> <div class="step-2" ng-show="estoyEnPaso2Adicionales"> <div class="divisor"> Emergencias </div> <div class="int-nuevo adicional"> <div class="checkbox"> <input type="checkbox" name="adicional-familiar" value="1" id="adicional-familiar-1"> <label for="adicional-familiar-1"></label> </div> <p>Conyuge, 36 años - $250</p> <div class="clearfix"></div> </div> <div class="int-nuevo adicional"> <div class="checkbox"> <input type="checkbox" name="adicional-familiar" value="2" id="adicional-familiar-2"> <label for="adicional-familiar-2"></label> </div> <p>Hijo, 10 años - $150</p> <div class="clearfix"></div> </div> <div class="int-nuevo adicional"> <div class="checkbox"> <input type="checkbox" name="adicional-familiar" value="3" id="adicional-familiar-3"> <label for="adicional-familiar-3"></label> </div> <p>Hija, 14 años - $150</p> <div class="clearfix"></div> </div> <!-- Supra salud --> <div class="divisor"> Supra salud </div> <div class="form-group label-floating select-group"> <select class="adicional-servicio" name="adicional-servicio"> <option value="">Servicio</option> <option value="S10">S10</option> <option value="S20">S20</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="int-nuevo adicional"> <div class="checkbox"> <input type="radio" name="adicional-supra" value="1" id="adicional-supra-1"> <label for="adicional-supra-1"></label> </div> <p>Titular - $150</p> <div class="clearfix"></div> </div> <div class="int-nuevo adicional"> <div class="checkbox"> <input type="radio" name="adicional-supra" value="2" id="adicional-supra-2"> <label for="adicional-supra-2"></label> </div> <p>Titular + cónyuge - $350</p> <div class="clearfix"></div> </div> <div class="int-nuevo adicional"> <div class="checkbox"> <input type="radio" name="adicional-supra" value="3" id="adicional-supra-3"> <label for="adicional-supra-3"></label> </div> <p>Titular + hijo/a - $250</p> <div class="clearfix"></div> </div> <div class="form-group label-floating select-group" style="margin-left:50px"> <select class="adicional-servicio" name="adicional-servicio"> <option value="">Seleccionar hijo/a</option> <option value="Hijo, 10 años">Hijo, 10 años</option> <option value="Hija, 14 años">Hija, 14 años</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="int-nuevo adicional"> <div class="checkbox"> <input type="radio" name="adicional-supra" value="4" id="adicional-supra-4"> <label for="adicional-supra-4"></label> </div> <p>Grupo familiar - $450</p> <div class="clearfix"></div> </div> <div class="int-nuevo adicional"> <div class="checkbox"> <input type="checkbox" name="adicional-ssac" value="Mantener SSAC" id="adicional-ssac"> <label for="adicional-ssac"></label> </div> <p>Mantener SSAC</p> <div class="clearfix"></div> </div> <!-- Sepelio --> <div class="divisor"> Subsidio y sepelio </div> <div class="form-group checkbox"> <label class="control-label dark"></label> <p>Grupo</p> <p>Individual</p> </div> <div class="form-group"> <div class="checkbox form-inline"> <label class="control-label dark">Cónyuge, 36 años</label> <div class="form-group"> <input type="radio" name="adicional-sepelio-1" value="1" id="adicional-sepelio-integral-1"> <label for="adicional-sepelio-integral-1">$450</label> </div> <div class="form-group"> <input type="radio" name="adicional-sepelio-1" value="1" id="adicional-sepelio-basico-1"> <label for="adicional-sepelio-basico-1">$450</label> </div> </div> <div class="clearfix"></div> </div> <div class="form-group"> <div class="checkbox form-inline"> <label class="control-label dark">Hijo, 10 años</label> <div class="form-group"> <input type="radio" name="adicional-sepelio-2" value="1" id="adicional-sepelio-integral-2"> <label for="adicional-sepelio-integral-2">$450</label> </div> <div class="form-group"> <input type="radio" name="adicional-sepelio-2" value="1" id="adicional-sepelio-basico-2"> <label for="adicional-sepelio-basico-2">$450</label> </div> </div> <div class="clearfix"></div> </div> <div class="form-group"> <div class="checkbox form-inline"> <label class="control-label dark">Hija, 14 años</label> <div class="form-group"> <input type="radio" name="adicional-sepelio-3" value="1" id="adicional-sepelio-integral-3"> <label for="adicional-sepelio-integral-3">$450</label> </div> <div class="form-group"> <input type="radio" name="adicional-sepelio-3" value="1" id="adicional-sepelio-basico-3"> <label for="adicional-sepelio-basico-3">$450</label> </div> </div> <div class="clearfix"></div> </div> </div> </div> <!-- Transferencia de segmento --> <div id="transferencia" ng-show="mostrarTransferencia"> <div class="form-header"> <i class="material-icons">swap_vertical_circle</i> Transferencia de segmento </div> <div class="form-group label-floating"> <label for="segmento-dni" class="control-label">DNI</label> <input type="text" class="form-control" id="segmento-dni" name="segmento-dni" ng-model="dni" ng-change="buscarSiEstaActivoPorDni(dni)"> </div> <div class="divisor"> Titular </div> <div class="lista"> <ul> <li>Nombre y Apellido: {{activoEncontrado.nombre+\' \'+activoEncontrado.apellido}}</li> <li>CP: {{activoEncontrado.cp}}</li> <li>Edad:{{activoEncontrado.edad}}</li> <li>Fecha de ingreso: {{activoEncontrado.fecha_ingreso}}</li> <li>Cobertura: {{activoEncontrado.cobertura}}</li> <li>Categoria: {{activoEncontrado.categoria}}</li> <li>iva: {{activoEncontrado.iva}}</li> </ul> </div> <hr> <div class="divisor"> Integrantes </div> <div class="lista" ng-repeat="integrante in valuation.members "> <ul> <li>Juliana Di Tello</li> <li>Conyuge, 36 años {{integrante.parentesco+\', \'+integrante.edad+\' años\'}}</li> <li>{{integrante.dni}}</li> </ul> <hr> </div> <div class="divisor"> Plan </div> <div class="lista"> <ul> <li>SanCor 3500</li> </ul> </div> <hr> <div class="form-group label-floating select-group"> <select class="adicional-servicio" name="segmento-nuevo"> <option value="">Segmento al que se traspasa</option> <option value="autonomo">Autonomo</option> <option value="desregulado">Desregulado</option> <option value="monotributo">Monotributo</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> <div class="form-group label-floating select-group"> <select class="adicional-servicio" name="ingreso-nuevo"> <option value="">Forma de ingreso</option> <option value="individual">Individual</option> <option value="grupo">Grupo afinidad</option> <option value="empresa">Empresa</option> </select> <div class="arrow"><i class="material-icons">keyboard_arrow_down</i></div> </div> </div> <div ng-show="mostrarVerCotizacion" class="btn-ver"> <button ng-click="verCotizacion()" type="button" name="button" class="btn"> Ver Cotización </button> </div> <div class="clearfix"></div> <div class="next"> <div class="pagination" ng-show="!(!(estoyEnPaso2 || estoyEnPaso2Adicionales) && mostrarVerCotizacion)"> <div class="dot {{((estoyEnPaso2 || estoyEnPaso2Adicionales) ? \'\': \'selected\')}}"></div> <div class="dot {{((estoyEnPaso2 || estoyEnPaso2Adicionales) ? \'selected\': \'\')}}"></div> </div> <button class="button btn next right" ng-show="!mostrarVerCotizacion" ng-click="siguiente()">SIGUIENTE<i class="material-icons">keyboard_arrow_right</i> </button> <div class="button btn prev left" ng-show="(estoyEnPaso2 || estoyEnPaso2Adicionales) && OrigenAdionales != \'asignados\'" ng-click="atras()"><i class="material-icons">keyboard_arrow_left</i>ANTERIOR </div> <div class="clearfix"></div> </div> </form> </div> </div> </div>  </section> <div id="integrante" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <p>Vas a agregar a: </p> <p class="integrante">{{newMember.parentesco}}, {{newMember.edad}} años, DNI: {{newMember.dni}}</p> <a id="acepta-integrante" ng-click="addMember()" class="btn btn-int">Aceptar</a> <a ng-click="cerrarModalIntegrante()" class="btn btn-int cerrar">Cancelar</a> <div class="clearfix"></div> </div> </div> </div> </div> <div id="cotizacion-fin" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <p>Vas a cotizar para un Potencial Asociado, ofrecele <strong>Productos adicionales optativos</strong></p> <p class="integrante"></p> <a id="acepta-adicionales" ng-click="siAdicional()" onclick="$(\'#cotizacion-fin\').modal(\'hide\')" class="btn btn-int">Aceptar</a> <a id="no-adicionales" ng-click="noAdicional()" class="btn btn-int cerrar">NO, GRACIAS</a> <div class="clearfix"></div> </div> </div> </div> </div> <div id="alert-tc-cbu" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <p>Para poder efectivizar la afiliación deberá modificar la forma de pago a <strong>TC</strong> o <strong>CBU</strong></p> <p class="integrante"></p> <a class="btn btn-int cerrar">Entendido</a> <div class="clearfix"></div> </div> </div> </div> </div> <div id="alert-user" class="modal fade" tabindex="-1"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <p>Para poder efectivizar la afiliación deberá modificar la forma de pago a <strong>TC</strong> o <strong>CBU</strong></p> <a class="btn btn-int cerrar">Aceptar</a> <div class="clearfix"></div> </div> </div> </div> </div> <div id="cotizar-modal" class="modal fade asignados" tabindex="-1"> <div class="modal-dialog"> <div class="modal-header"> <h3>{{valuation.potential.nombre+ \' \'+valuation.potential.apellido}}</h3> <h5>Cotización general</h5> </div> <div class="modal-content"> <div class="modal-body"> <form action="#" id="guardar" ng-submit=""> <div class="titulo">Plan</div> <div class="costo">Costo</div> <div class="plan"> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="plan-modal1"> <label for="plan-modal1">Sancor 500</label> </div> <div class="costo m11">$2000</div> <div class="arrow"></div> <div class="clearfix"></div> <div class="descripcion"> <p>Valor del plan <input type="text" placeholder="$2000" disabled></p> <p>Bonificación afinidad <input type="text" placeholder="($287)" disabled></p> <p>Bonificación aporte <span>($1289)</span></p> <p>Adicionales optativos <span>$1050</span></p> </div> </div><!-- fin plan --> <div class="plan"> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="plan-modal2"> <label for="plan-modal2">Sancor 1000</label> </div> <div class="costo m11">$2250</div> <div class="arrow"></div> <div class="clearfix"></div> <div class="descripcion"> <p>Valor del plan <input type="text" placeholder="$2250" disabled></p> <p>Bonificación afinidad <input type="text" placeholder="($287)" disabled></p> <p>Bonificación aporte <span>($1289)</span></p> <p>Adicionales optativos <span>$1050</span></p> </div> </div><!-- fin plan --> <div class="plan"> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="plan-modal3"> <label for="plan-modal3">Sancor 2000</label> </div> <div class="costo m11">$2450</div> <div class="arrow"></div> <div class="clearfix"></div> <div class="descripcion"> <p>Valor del plan <input type="text" placeholder="$2450" disabled></p> <p>Bonificación afinidad <input type="text" placeholder="($287)" disabled></p> <p>Bonificación aporte <span>($1289)</span></p> <p>Adicionales optativos <span>$1050</span></p> </div> </div><!-- fin plan --> <div class="plan"> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="plan-modal4"> <label for="plan-modal4">Sancor 2500</label> </div> <div class="costo m11">$2600</div> <div class="arrow"></div> <div class="clearfix"></div> <div class="descripcion"> <p>Valor del plan <input type="text" placeholder="$2600" disabled></p> <p>Bonificación afinidad <input type="text" placeholder="($287)" disabled></p> <p>Bonificación aporte <span>($1289)</span></p> <p>Adicionales optativos <span>$1050</span></p> </div> </div><!-- fin plan --> <div class="plan"> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="plan-modal5"> <label for="plan-modal5">Sancor 3000</label> </div> <div class="costo m11">$3150</div> <div class="arrow"></div> <div class="clearfix"></div> <div class="descripcion"> <p>Valor del plan <input type="text" placeholder="$3150" disabled></p> <p>Bonificación afinidad <input type="text" placeholder="($287)" disabled></p> <p>Bonificación aporte <span>($1289)</span></p> <p>Adicionales optativos <span>$1050</span></p> </div> </div><!-- fin plan --> <div class="divisor"> Adicionales optativos (cotizados en el plan) </div> <div class="plan"> <div class="adicional-modal">Emergencias</div> <div class="arrow"></div> <div class="clearfix"></div> <div class="descripcion w100"> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="adicional-modal1" checked> <label for="adicional-modal1">Juan Pelourinho</label> </div> <div class="costo m11">$250</div> </div> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="adicional-modal2" checked> <label for="adicional-modal2">Cónyuge, 36 años</label> </div> <div class="costo m11">$250</div> </div> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="adicional-modal3" checked> <label for="adicional-modal3">Hijo, 10 años</label> </div> <div class="costo m11">$150</div> </div> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="adicional-modal4" checked> <label for="adicional-modal4">Hija, 14 años</label> </div> <div class="costo m11">$150</div> </div> </div> </div><!-- fin plan --> <div class="plan"> <div class="adicional-modal">Supra Salud</div> <div class="arrow"></div> <div class="clearfix"></div> <div class="descripcion w100"> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="supra-modal1" checked> <label for="supra-modal1">Titular</label> </div> <div class="costo m11">$150</div> </div> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="supra-modal2" checked> <label for="supra-modal2">Titular + Cónyuge</label> </div> <div class="costo m11">$350</div> </div> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="supra-modal3" checked> <label for="supra-modal3">Titular + Hijo/a</label> </div> <div class="costo m11">$250</div> </div> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="supra-modal4" checked> <label for="supra-modal4">Grupo familiar</label> </div> <div class="costo m11">$450</div> </div> </div> </div><!-- fin plan --> <div class="plan"> <div class="adicional-modal">Subsidio y sepelio</div> <div class="arrow"></div> <div class="clearfix"></div> <div class="descripcion w100"> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="subsidio-modal1" checked> <label for="subsidio-modal1">Cónyuge, 36 años</label> </div> <div class="costo m11">$450</div> </div> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="subsidio-modal2" checked> <label for="subsidio-modal2">Hijo, 10 años</label> </div> <div class="costo m11">$450</div> </div> <div> <div class="checkbox"> <input type="checkbox" name="plan-modal[]" value="1" id="subsidio-modal3" checked> <label for="subsidio-modal3">Hija, 14 años</label> </div> <div class="costo m11">$450</div> </div> </div> </div><!-- fin plan --> <p class="leyenda">La presente cotización realizada en el día de la fecha queda expresamente sujeta a variaciones conforme las actualizaciones, aumentos o ajustes que pudiera autorizar la Superintendencia de servicios de Salud, los cuales serán aplicados al mes que la misma indique.</p> </form> <a id="guardar-cotizacion" class="btn btn-int">Guardar cotización</a> <a class="btn btn-int cerrar">Cancelar</a> <div class="clearfix"></div> </div> </div> </div> </div>');
}]);